\RequirePackage[l2tabu, orthodox]{nag}
\documentclass[version=3.21, pagesize, notitlepage, twoside=off, bibliography=totoc, DIV=calc, fontsize=12pt, a4paper]{scrartcl}
\input{preamble/packages}
\input{preamble/redac}
\input{preamble/math_basics}
\input{preamble/math_mine}
%\input{preamble/draw}
%\input{preamble/acronyms}
%\input{preamble/refAPIcmds}

%I find these settings useful in draft mode. Should be removed for final versions.
	%Which line breaks are chosen: accept worse lines, therefore reducing risk of overfull lines. Default = 200.
		\tolerance=2000
	%Accept overfull hbox up to...
		\hfuzz=2cm
	%Reduces verbosity about the bad line breaks.
		\hbadness 5000
	%Reduces verbosity about the underful vboxes.
		\vbadness=1300

%\title{Title \thanks{Thanks.}}
%\author{Name1}
%\author{Name2}
%\affil{Université Paris-Dauphine, PSL Research University, CNRS, LAMSADE, 75016 PARIS, FRANCE\\
%	\href{mailto:olivier.cailloux@dauphine.fr}{olivier.cailloux@dauphine.fr}
%}
%\author{Name3}
%\affil{Affil2}
%\hypersetup{
%	pdfsubject={},
%	pdfkeywords={},
%}

\setcounter{MaxMatrixCols}{10}
%TCIDATA{OutputFilter=LATEX.DLL}
%TCIDATA{Version=5.50.0.2953}
%TCIDATA{<META NAME="SaveForMode" CONTENT="1">}
%TCIDATA{BibliographyScheme=Manual}
%TCIDATA{Created=Tuesday, August 09, 2005 15:34:58}
%TCIDATA{LastRevised=Thursday, March 07, 2019 13:36:58}
%TCIDATA{<META NAME="GraphicsSave" CONTENT="32">}
%TCIDATA{<META NAME="DocumentShell" CONTENT="Scientific Notebook\Blank with Theorem Tags">}
%TCIDATA{Language=American English}
%TCIDATA{CSTFile=Math.cst}
%TCIDATA{PageSetup=14,14,57,57,0}
%TCIDATA{AllPages=
%H=36
%F=36,\PARA{038<p type="texpara" tag="Body Text" >\hfill \thepage}
%}

%\newtheorem{theorem}{Theorem}[section]
\newtheorem{acknowledgement}[theorem]{Acknowledgement}
\newtheorem{algorithm}[theorem]{Algorithm}
\newtheorem{axiom}{Axiom}[section]
\newtheorem{case}{Case}[section]
\newtheorem{claim}{Claim}[section]
\newtheorem{conclusion}{Conclusion}[section]
\newtheorem{condition}{Condition}[section]
\newtheorem{conjecture}{Conjecture}[section]
%\newtheorem{corollary}{Corallary}[section]
\newtheorem{criterion}{Criterion}[section]
%\newtheorem{definition}{Definition}[section]
%\newtheorem{example}{Example}[section]
\newtheorem{exercise}{Exercise}[section]
%\newtheorem{lemma}{Lemma}[section]
\newtheorem{notation}{Notation}[section]
\newtheorem{problem}{Problem}[section]
%\newtheorem{proposition}{Proposition}[section]
%\newtheorem{remark}{Remark}[section]
\newtheorem{solution}{Solution}[section]
\newtheorem{summary}{Summary}[section]
%\newenvironment{proof}[1][Proof]{\noindent\textbf{#1.} }{\ \rule{0.5em}{0.5em}}

\usepackage{blkarray}
\usepackage{booktabs}
\usepackage{amsmath}

\title{Ex-Ante versus Ex-Post \\ Compromise}
\author{}
\date{}

\newcommand{\commentBN}[1]{\textcolor{magenta}{\small$\big[$BN: #1$\big]$}}
\newcommand{\commentRS}[1]{\textcolor{red}{\small$\big[$RS: #1$\big]$}}
\newcommand{\paretopt}{\mathit{PO}}
\newcommand{\SPPd}{\Sigma^\text{PPd}}
\newcommand{\SAll}{\Sigma^\text{All}}
\newcommand{\SThreshold}{\Sigma_\text{threshold}}
\newcommand{\vpr}{\mathbf{v}}

\begin{document}

\maketitle
\thispagestyle{empty}


\appendix
\section{Cardinal compromises}
Let $U(A) \subseteq \R^A$ be the set of injective real-valued “utility” functions defined over $A$, thus mandating, $\forall u_{i}\in U(A)$: $u_{i}(x)\neq u_{i}(y)$ $\forall x ≠ y\in A$. Note that each $u_{i}\in U$ induces a unique $P(u_{i})\in L(A)$.
For each $k\in \left\{ 1, ..., m\right\} $, we write $r_{k}(u_{i})$ for $r_{k}(P(u_{i}))$, thus $r_k \in A$.

A cardinal SCR is a mapping $f:U(A)^{N}\rightarrow 2^{A} \setminus \{\emptyset \}$. We will not specify whether a SCR is cardinal or ordinal whenever this is clear from its domain.

We adopt the “equal loss principle” which Chun (1988, Economics Letters) \cite{Chun1988}, Chun and Peters (1991, MASS) \cite{Chun1991} introduce and characterize for bargaining problems \commentOC{Which one do we want to cite as introducing and characterizing?}. It seems that the concept is also used in bankruptcy and matching problems. For each $u\in U(A)^{N}$, each $x\in A$ and each $i\in N$, let $\lambda_{i}^u(x) = \max_{a \in A} u_i(a) - u_{i}(x)$ represent the loss of utility for $i$ that $x$ be elected instead of her favorite alternative, and $\lambda ^{u}(x)=(\lambda _{i}^{u}(x))_{i\in N}$, thus $\lambda ^{u}(x) \in \R_+^N$ representing the vector of losses if electing $x$.

Unlike bargaining, our problem does not induce a convex space of achievable utilities. As a result, we cannot ensure the existence of $x\in A$ with $\lambda _{i}^{u}(x)=\lambda _{j}^{u}(x)$ for all $i,j\in N$. Hence, we aim to determine the “most equally distributed” vector within $\left\{ \lambda ^{u}(x)\right\} _{x\in A}$. We thus need to adopt a spread measure which is a mapping $\sigma : \R_{+}^{N}\longrightarrow \R_{+}$.

\subsection{Cardinal Compromise Rule}
\label{sec:cardCompr}
Given any $\sigma \in \Sigma$, we define a (cardinal) compromise as the cardinal SCR $C^{\sigma }:U(A)^{N}\rightarrow 2^{A} \setminus \{\emptyset \}$ such that $C^{\sigma }(u) = \argmin_{x \in A} (\sigma \circ \lambda^u)(x) = \left\{ x\in A:\sigma (\lambda ^{u}(x))\leq \sigma (\lambda ^{u}(y)), \forall y\in A\right\} $. Let $\paretopt(u)$ be the set of alternatives which are Pareto optimal at $u\in U(A)^{N}$. As a matter of fact, $C^{\sigma }(u)$ can pick alternatives outside $\paretopt(u)$. In fact, $C^{\sigma }(u)$ $\cap $ $\paretopt(u)$ can even be empty. To see this consider the following profile
\begin{example} 
	\label{ex:dropPo} $ $\\
	\begin{center}
		$
		\begin{array}{cccccc}
		\mathbf{i_1} \ & a & b & c & d & e \\
		\mathbf{i_2} \ & d & c & b & a & e \\
		\end{array}
		$
	\end{center}
	and the utility assignment $u$ such that
	\begin{center}
		$
		\begin{array}{ccc}
		& u_1 & u_2 \\
		\mathbf{a} \ & 5 & 2 \\
		\mathbf{b} \ & 4 & 3 \\
		\mathbf{c} \ & 3 & 4 \\
		\mathbf{d} \ & 2 & 5 \\
		\mathbf{e} \ & 1 & 1 \\
		\end{array}
		$
	\end{center}
	Note that for any $\sigma \in \SPPd $, $C^{\sigma }(u)=\left\{ e\right\} $ while $\paretopt(u)=\left\{ a, b, c, d\right\} $. 
\end{example}

From now on, we will ensure the Pareto optimality of cardinal compromises by defining them as 
\[C^{\sigma }(u) = \argmin_{x \in \paretopt(u)} (\sigma \circ \lambda^u)(x) = \left\{ x\in \paretopt(u):\sigma (\lambda ^{u}(x))\leq \sigma (\lambda ^{u}(y)),  \forall y\in A\right\}.\]

OPEN QUESTION: Which axioms would characterize $C^{\sigma }$?

Many rules fail to be a compromise.
TODO: See whether it is the case when the UA $v$ is allowed to vary among individuals.

The two person example that shows that FB is not an ordinal compromise of special interest because $C^{\sigma }$ seems to particularly appealing in two person discrete bargaining environments. In that example, $y$ seems to be a more natural bargaining solution than $x$. So we can try to present $C^{\sigma }$ as a discrete bargaining solution. In this literature there is FB of Brams and Kilgour which is later rectified by Kibris and Sertel \cite{Sertel1999} by adding the disagreement outcome that was originally missing. It will be certainly interesting to introduce and analyze $C^{\sigma }$ in this ordinal context where ranks are utilities. Clearly, minimized envy will be a key condition which will differentiate $C^{\sigma }$ from FB.

Another direction of research to which Ali had pointed: As a spirit of compromise, we pick the alternative whose lambda is “most equally distributed”. But once we have lambdas, it makes sense to ask what else we can do with these. Ali suggested to minimize the median value of lambda. Sounds plausible but what does this mean? What else can we do with our lambdas? I feel that there are plenty of interesting questions here.

\subsection{Ordinal treatment}
A cardinal compromise $C^\sigma$ is said to treat its input ordinally when it only cares about the orderings of the alternatives given by the utilities it is given. Here is a more precise definition.
\begin{definition}[Ordinal treatment]
	A cardinal compromise $C^\sigma$ \emph{treats its input ordinally} iff, for any input $(u_i)_{i \in N} \in U(A)^N$, and any list of strictly monotonous transformations $(t_i)_{i \in N}$, where each $t_i: \R → \R$, it holds that $C^\sigma((u_i)_{i \in N}) = C^\sigma((t_i \circ u_i)_{i \in N})$.
\end{definition}

\subsection{Interaction between utility assignment and spread measure}
\begin{conjecture}
	Let $\sigma: \R_+^2 \rightarrow \R_+$ be defined as $\sigma(r)=\frac{|r_1-r_2|}{r_1+r_2} \ \forall r \in \R_+^2$. Given any $P \in L(A)^N$, any $x,y \in A$ and any two utility assignments $u_P$, $u_P'$ such that $u'=au+b$ 
	\[\sigma(\lambda^{u_P}(x)) \geq \sigma(\lambda^{u_P}(y)) \Rightarrow \sigma(\lambda^{u_P'}(x)) \geq \sigma(\lambda^{u_P'}(y))\] 
\end{conjecture}

Once a class of functions $\Sigma \subseteq \SAll$ is defined, an ordinal compromise is defined by two parameters: the UA $v$ and the spread measure $\sigma \in \Sigma$. Here we investigate some links between these two parameters.

First, we observe that in some cases, these two parameters can be treated as the choice of a single parameter, in the following sense.
\begin{definition}[UA-independence]
	A class of spread measure $\Sigma \subseteq \SAll$ is UA-independent iff, given any $\sigma \in \Sigma $ and any two UAs $v$ and $v^{\prime }$, there exists a $\sigma^\prime\in \Sigma $ such that $C^{\sigma}\circ \vpr = C^{\sigma ^{\prime}} \circ \vpr^\prime$.
\end{definition}

As an example of such $\Sigma$, consider $\SThreshold$, the class of spread measures that consider the number of time the loss is greater than or equal to a certain threshold $k \in \R$:
\[\SThreshold= \set{ \sigma^k , k \in \R},\]
where $\sigma^k (\lambda)= \# \set{ i \in N \suchthat \lambda_i \geq k}$.

\begin{proposition} 
	\label{prop:equivalence_SigmaThrs} 
	$\SThreshold$ is UA-independent.
\end{proposition}
\begin{proof}
	Given any utility assignments $v$ and $v^{\prime}$, and a spread measure $\sigma^k$, we need to show that it is possible to choose $k^\prime \in \R$ such that $C^{\sigma^k} \circ \vpr = C^{\sigma^{k'}} \circ \vpr^\prime$. Let  $t \in \intvl{1, m}$ be the minimal position such that the loss of any alternative $x \in A$ ranked $t$ in $v$ by any of the voters is greater than or equal to $k$. 
	\[t \in \intvl{1, m} \ s.t. \  \lambda_{i}^v(x)\geq k \ \forall i \in N , x = r_{t}(P_{i}) \in A\]
	If we call $v(t_{top})$ the utility associated to the top position of the ranking order according to $v$, then that is equivalent to say
	\[t \in \intvl{1, m} \ s.t. \ v(t_{top})-v(t) \geq k \] 
	Consider now $\sigma^{k^\prime}$ with $k^\prime = v^\prime(t_{top})-v^\prime(t)$, i.e. $k^\prime$ equal to the loss of any alternative ranked $t$ according to the UA $v^\prime$. If no such t exists then $k^\prime=v^\prime(t_{top})-v^\prime(m)+1$. Observe that $\sigma^k(\lambda(x))$ counts the number of times the alternative $x$ is ranked at position $t$ or lower. Since $v$ and $v^{\prime}$ are strictly monotonic, choosing $k^\prime$ as described, allows us to consider in $\sigma^{k^\prime}$ the same rank positions considered in $\sigma^k$. Note that the profile does not change so the number of times an alternative is ranked at a certain position does not change either, thus $\sigma^k(\lambda)=\sigma^{k^\prime}(\lambda^\prime)$. It follows that 
	\[C^{\sigma^k} \circ \vpr = \argmin_{x \in A} (\sigma^k(\lambda^v(x))) = \argmin_{x \in A} (\sigma^{k^\prime}(\lambda^{v^\prime}(x))) = C^{\sigma^{k'}} \circ \vpr^\prime.\]
	
\end{proof}

\begin{example}
	Take the following profile $P$ as an example:
	\begin{center}
		$
		\begin{array}{cccc}
		\mathbf{i_1} \quad &a&b&c\\
		\mathbf{i_2} \quad &b&c&a\\
		\end{array}
		$
	\end{center}
	
	and consider the utility assignments $v$ such that $v_{P_1}=(3,1,0) , v_{P_2}=(0,3,1)$ and $v^\prime$ such that $v^\prime_{P_1}=(10,9,0) , v^\prime_{P_2}=(0,10,9)$. Define by $\lambda^P(x)$ the loss of utility of the alternative $x$ in the profile P under the utility assignment $v$, and $\lambda^{\prime P}(x)$ the one under the UA $v^\prime$. Let $\sigma^2(\lambda^v)$ be the given spread measure; the position $t$ induced by $k=2$ can be computed considering that $t_{top} = 1$ and $v(t_{top})=3$
	\begin{center}
		$ 
		\begin{array}{cccc}
		& v(t_{top})-v(t) &\geq &k \vspace{1.5mm} \\ 
		t=1 \qquad & 3 - 3 &\ngeq &2 \\
		\color{red}t=2 \qquad & 3 - 1 &\color{red}\geq &2 \\
		\end{array}
		$
	\end{center}
	Hence $t=2$ and now we choose $k^\prime = v^\prime(t_{top})-v^\prime(t)= v^\prime(1)-v^\prime(2)=10-9=1$. We can observe that the social choice rule $C^{\sigma^2} \circ \vpr$ is equal to $C^{\sigma^1} \circ \vpr^\prime$, indeed
	\begin{center}
		$
		\begin{array}{ccccc}
		\lambda^P(a) \ = \ &0&3 & \rightarrow & \sigma^2(\lambda^P(a)) = 1\\
		\lambda^P(b) \ = \ &2&0 & \rightarrow & \sigma^2(\lambda^P(b)) = 1\\
		\lambda^P(c) \ = \ &3&2 & \rightarrow & \sigma^2(\lambda^P(c)) = 2\\
		\end{array}
		$
	\end{center}
	$C^{\sigma^2}(v)\in \{a,b\}$ and
	\begin{center}
		$
		\begin{array}{ccccc}
		\lambda^{\prime P}(a) \ = \ &0&10 & \rightarrow & \sigma^{1^\prime}(\lambda^{\prime P}(a)) = 1\\
		\lambda^{\prime P}(b) \ = \ &1&0 & \rightarrow & \sigma^{1^\prime}(\lambda^{\prime P}(b)) = 1\\
		\lambda^{\prime P}(c) \ = \ &10&1 & \rightarrow & \sigma^{1^\prime}(\lambda^{\prime P}(c)) = 2\\
		\end{array}
		$
	\end{center}
	$C^{\sigma^{1^\prime}}(v^\prime)\in \{a,b\}$.
\end{example}

\begin{proposition} 
	\label{prop:equivalence_SigmaPPD} 
	$\SPPd$ is not UA-independent.
\end{proposition}
\begin{proof}
	Consider, as a counterexample, the profile $P$
	\begin{center}
		$
		\begin{array}{ccccccccc}
		\mathbf{i_1} \quad &x&a_1&a_2&a_3&y&b_1&b_2&b_3\\
		\mathbf{i_2} \quad &b_1&b_2&y&x&b_3&a_1&a_2&a_3\\
		\end{array}
		$
	\end{center}
	and the UAs $v$ and $v^\prime$ such that the utilities associated to the ranks are
	\begin{center}
		$
		\begin{array}{cccccccccc}
		&k=& 1&2&3&4&5&6&7&8 \vspace{1.5mm}\\
		v(k) & &7&6&5&4&3&2&1&0\\
		v^\prime(k) & &1000&999&998&997&3&2&1&0\\
		\end{array}
		$
	\end{center}
	Define by $\lambda$ the losses of utility under the UA $v$, $\lambda^\prime$ the ones under the $v^\prime$ and consider $\sigma \in \SPPd$. We can observe that the SCRs associated give very different results
	\begin{center}
		$
		\begin{array}{ccccc}
		& v_{P_1}(\cdot) & v_{P_2}(\cdot) & & \lambda^P(\cdot) \\
		x \quad &7&4 & \quad & (0,3)\\
		y \quad &3&5 & \quad & \color{red}(4,2)\\
		a_1 \quad &6&2 & \quad & (1,5)\\
		a_2 \quad &5&1 & \quad & (2,6)\\
		a_3 \quad &4&0 & \quad & (3,7)\\
		b_1 \quad &2&7 & \quad & (5,0)\\
		b_2 \quad &1&6 & \quad & (6,1)\\
		b_3 \quad &0&3 & \quad & (7,4)\\
		\end{array}
		$
	\end{center}
	$C^{\sigma}(v)\in \{y\}$. 
	\begin{center}
		$
		\begin{array}{ccccc}
		& v^\prime_{P_1}(\cdot) & v^\prime_{P_2}(\cdot) & & \lambda^{\prime P}(\cdot) \\
		x \quad &1000&997 & \quad & \color{red}(0,3)\\
		y \quad &3&998 & \quad & (997,2)\\
		a_1 \quad &999&2 & \quad & (1,998)\\
		a_2 \quad &998&1 & \quad & (2,999)\\
		a_3 \quad &997&0 & \quad & (3,1000)\\
		b_1 \quad &2&1000 & \quad & (998,0)\\
		b_2 \quad &1&999 & \quad & (999,1)\\
		b_3 \quad &0&3 & \quad & \color{red}(1000,997)\\
		\end{array}
		$
	\end{center}
	$C^{\sigma}(v^\prime)\in \{x,b_3\}$.
\end{proof}

\begin{remark}
	Observe that some $\sigma \in \SThreshold$ fail to satisfy the PPd condition. Consider, for example, the following profile $P$
	\begin{center}
		$
		\begin{array}{ccccc}
		\mathbf{i_1} \quad &a&d&b&c\\
		\mathbf{i_2} \quad &b&c&d&a\\
		\end{array}
		$
	\end{center}
	an UA $v$ which assign the utility values $10,2,1,0$ respectively to the ranks $1,2,3,4$, and a spread measure $\sigma^k \in \SThreshold$ with $k=1$.
	\begin{center}
		$
		\begin{array}{ccccccc}
		&&&&&& \sigma^1(\lambda^P(\cdot))\\
		\lambda^P(a) \ =  &(&0&10&) & \quad & 1\\
		\lambda^P(b) \ =  &(&9&0&) &  & 1\\
		\lambda^P(c) \ =  &(&10&8&) &  & 2\\
		\lambda^P(d) \ =  &(&8&9&) &  & 2\\
		\end{array}
		$
	\end{center}
	Consider $\lambda^P(d)$ and $\lambda^P(a)$, $\left\vert \lambda^P(d)_{1}-\lambda^P(d)_{2}\right\vert = 1$ and $\left\vert \lambda^P(a)_{1}-\lambda^P(a)_{2}\right\vert=10$, for the PPd condition 
	\[\left\vert \lambda^P(d)_{1}-\lambda^P(d)_{2}\right\vert \leq \left\vert \lambda^P(a)_{1}-\lambda^P(a)_{2}\right\vert \Rightarrow \sigma^k (\lambda^P(d))\leq \sigma^k (\lambda^P(a))\] 
	But this is not the case since $\sigma^k (\lambda^P(d))=2\nleq 1=\sigma^k (\lambda^P(a))$.
	
	Therefore, we can conclude that the Threshold condition does not consider the notion of compromise as we promote and it is not enough to ensure a satisfactory notion of spread measure for our intents.
\end{remark}	

\begin{example}[Problem: does $\Sigma$ really compromise?]
	Following this remark, we can observe that some $\sigma \in \SThreshold$ fail to compromise by going back to the Example \ref{ex:exk}, where we showed that all the fallback bargaining rules would have picked $b$ as outcome, ignoring the willing of $100-z$ voters.
	Indeed, we can see that if we consider $\sigma^k \in \SThreshold$ with $k = 2$, the alternative $b$ would still be the outcome. Moreover, with $k=1$ the winner would be $d$ which is even worse fairness-wise. By Proposition \ref{prop:equivalence_SigmaThrs} the specific utility assignment is not relevant to determine the outcome, so consider the Borda one, the utility vectors of the alternatives are the following
	
	\begin{center}
		$
		\begin{array}{ccccccc}
		\mathbf{a} \ = \ &(& \overbrace{3, \dots,3,}^{i_{1-26}} & \overbrace{1, \dots, 1,}^{i_{27-51}} & \overbrace{1, \dots, 1,}^{i_{52-z}} & \overbrace{2, \dots, 2}^{i_{(z+1)-100}} &) \\
		\mathbf{b}\ = \ &(& 2, \dots,2, & 2, \dots, 2, & 2, \dots, 2, & 0, \dots, 0 &) \\
		\mathbf{c}\ = \ &(& 1, \dots,1, & 3, \dots, 3, & 0, \dots, 0, & 1, \dots, 1 &) \\
		\mathbf{d}\ = \ &(& 0, \dots,0, & 0, \dots, 0, & 3, \dots, 3, & 3, \dots, 3 &) \\
		\end{array}
		$
	\end{center}
	
	Where $i_{1-26}$ indicate the group of voters from $i_1$ to $i_{26}$. Consider now the loss vectors: 
	
	\begin{center}
		$
		\begin{array}{ccccccc}
		\lambda(a)\ = \ &(& \overbrace{0, \dots,0,}^{|i_{1-26}|=26} & \overbrace{2, \dots, 2,}^{|i_{27-51}|=25} & \overbrace{2, \dots, 2,}^{|i_{\dots}|=z-51} & \overbrace{1, \dots, 1}^{|i_{\dots}|=100-z} &) \\
		\lambda(b)\ = \ &(& 1, \dots,1, & 1, \dots, 1, & 1, \dots, 1, & 3, \dots, 3 &) \\
		\lambda(c)\ = \ &(& 2, \dots,2, & 0, \dots, 0, & 3, \dots, 3, & 2, \dots, 2 &) \\
		\lambda(d)\ = \ &(& 3, \dots,3, & 3, \dots, 3, & 0, \dots, 0, & 0, \dots, 0 &) \\
		\end{array}
		$
	\end{center}
	
	\begin{center}
		$
		\begin{array}{cc|c|c}
		& k=1 & k=2 & k=3 \\ \cmidrule{2-4}
		\sigma^k (\lambda (a))\ = \ & 74 & z-26 & {\color{red}0} \\
		\sigma^k (\lambda (b))\ = \ & 100 & {\color{red}100-z} & 100-z \\
		\sigma^k (\lambda (c))\ = \ & 75 & 75 & z-51 \\
		\sigma^k (\lambda (d))\ = \ & {\color{red}51} & 51 & 51 \\
		\end{array}
		$
	\end{center}	
	
	Then for $k=1$ the winner would be $\color{red}d$; for $k=2$ would be $\color{red}b$ because $100-z$ is always less than $z-26$, $75$ and $51$ (remember that $z \in {64, \dots 99}$); for $k=3$ the winner would be $\color{red}a$.
	\\\\
	It is worth noting that if we consider $\sigma \in \SPPd$ the outcome changes according to the utility assignment. For example, if we consider the UA such that the alternative ranked first has utility $1000$ and the rest $2,1,0$ then the loss vectors are: 
	\begin{center}
		$
		\begin{array}{ccccccc}
		\lambda(a)\ = \ &(& \overbrace{0, \dots,0,}^{|i_{1-26}|=26} & \overbrace{999, \dots, 999,}^{|i_{27-51}|=25} & \overbrace{999, \dots, 999,}^{|i_{\dots}|=z-51} & \overbrace{998, \dots, 998}^{|i_{\dots}|=100-z} &) \\
		\lambda(b)\ = \ &(& 998, \dots,998, & 998, \dots, 998, & 998, \dots, 998, & 1000, \dots, 1000 &) \\
		\lambda(c)\ = \ &(& 998, \dots,998, & 0, \dots, 0, & 1000, \dots, 1000, & 998, \dots, 998 &) \\
		\lambda(d)\ = \ &(& 1000, \dots,1000, & 1000, \dots, 1000, & 0, \dots, 0, & 0, \dots, 0 &) \\
		\end{array}
		$
	\end{center}
	The winner is again $b$ but in this case we want it to be the outcome since it corresponds to our idea of compromise.
	
	\commentOC{Try to capture your intuition formally and in a shorter way by defining a property that you think a “compromise” sigma should satisfy and that some sigma in $\SThreshold$ do not satisfy. Unless this is already captured by PPd. (Not urgent, can be left for later.)} \commentBN{My idea was, indeed, that PPd represents what we want a compromise to be. But we can surely add other properties.}
\end{example}



\begin{definition}
	\label{D1} \bigskip We say that a SCR $f:L(A)^{N}\rightarrow 2^{A} \setminus \{\emptyset \}$ is a $\Sigma$-ordinal compromise iff there exists $\sigma \in \Sigma $ and an UA $v$ such that $C^{\sigma }\circ \vpr=f$.
\end{definition}

Note that for $\SThreshold$, by \cref{prop:equivalence_SigmaThrs}, \cref{D1} is equivalent to the apparently following stronger version:

\begin{definition}
	\label{D2} We say that an SCR $f:L(A)^{N}\rightarrow 2^{A} \setminus \{\emptyset \}$ is a $\SThreshold$-ordinal compromise iff for every UA $v$ there exists $\sigma \in \SThreshold$ such that $C^{\sigma }\circ \vpr=f$.
\end{definition}


\section{Cardinal to Ordinal}
A utility assignment (UA) is a strictly decreasing function $v:\left\{ 1,..., m\right\} \rightarrow \R$ which maps ranks to utilities. For each $P_{i}\in L(A)$, $v$ induces a utility function $v_{P_{i}}$ $\in U(A)$ with $v_{P_{i}}(x)=v(k)$ for each $x=r_{k}(P_{i})\in A$. So for every $P\in L(A)^{N}$, $v_{P}=(v_{P_{1}},...,v_{P_{n}})$ $\in U(A)^{N}$ is the utility profile that $v$ induces from the preference profile $P$. Given $v$, we can define $\vpr: L(A)^N → U(A)^N$ as the function which determines a utility profile by mapping each ordinal preference from a profile to its corresponding utility function.

Given any UA $v$, an ordinal compromise is the SCR $C^{\sigma }\circ \vpr:L(A)^{N}\rightarrow 2^{A} \setminus \{\emptyset \}$ such that $(C^{\sigma }\circ \vpr)(\{P_i, i \in N\}) = C^{\sigma}(\{v_{P_i}, i \in N\})$ for every $P\in L(A)^{N}$.


\section{Dropping Pareto Optimality}
	Consider the Example \ref{ex:dropPo} in Section \ref{sec:cardCompr}.
	Given the spirit of fairness that underlies $C^{\sigma }$, picking $e$ at $u$ may have a merit. To see why, consider the following situation, where a social planner must choose between a world $x$ where individuals may sell their organs, and a world $y$ where they may not (assuming that they do not if they may not). Assume that the utility of individual $1$ would be slightly higher in world $x$, because she would sell an organ to individual $2$, who would gain a lot from this sell: 
	\begin{center}
		$
		\begin{array}{ccc}
		& u_1 & u_2 \\
		\mathbf{x} \ & 1 & 100 \\
		\mathbf{y} \ & 0 & 0 \\
		\end{array}
		$
		\end{center}
		Even though $y$ is Pareto dominated in this example, the social planner might prefer $y$ to $x$ by considering that in $x$, an individual benefits in an unfair way of the sale. \cite{Sen2004} introduced the notion of individual liberty which considers that each individual has a recognized personal sphere in which only his preferences count in determining the social preference. He considered three different interpretations where this can be applied: outcome evaluation, normative choice and descriptive choice. Considering both individual liberty and Pareto principle, he then provided impossibility results for each of them. \commentBN{Whereas the idea of "y will not be chosen when x is available" is similar to our approach, Sen assumed that x is preferred to y for some voter and this is into her personal sphere. We do not make the same assumption. In our example y can be chosen even if none like it because it's considered the fairest for the society.} 
		(A more thorough argument could observe that in real life, the set of alternatives is not necessarily determined once and for all, and that by adopting a strategy that tolerates huge inequalities, the social planner creates an incentive for $u_2$ to avoid helping adding new alternatives in the agenda, such as one where $u_1$ does not desire to sell an organ to $u_2$.) This example illustrates the tension between Pareto efficiency, which may come with a price of huge inequalities as in this example, and pure equalitarian view, which as the previous example illustrates may completely disregard Pareto efficiency even when the cost in supplemental inequality is low. Exploring rules that trade-off between these two objectives might be interesting, but is left as a future goal.
	
\section{Old example 2}
This point can be extended to greater values of $q$, as we can see in the next example.

\begin{example}
	\label{ex:exk}
	Consider again $n=100$, but now with 4 alternatives, and the preference profile
	\begin{center}
		$
		\begin{array}{ccccc}
		\mathbf{26} \quad &a&b&c&d\\
		\mathbf{25} \quad &c&b&a&d\\
		\mathbf{z-51} \quad &d&b&a&c\\
		\mathbf{100-z} \quad &d&a&c&b\\
		\end{array}
		$
		\end{center}
		where $z\in \left\{ 64,..., 99\right\}$. For any $q\in \left\{ \frac{n}{2},..., z\right\}$ all the BK-compromises pick $b$ as winner. We can observe that the outcome reflects a compromise among the first three blocks of voters that disagree on their top choices. The fourth block of $100-z$ voters, however, does not seem to be taken into account by any of the fallback bargaining rules. 
		Let's consider $z=64$, the profile would then be the following: 
		
		\begin{center}
			$
			\begin{array}{ccccc}
			\mathbf{26} \quad &a&b&c&d\\
			\mathbf{25} \quad &c&b&a&d\\
			\mathbf{13} \quad &d&b&a&c\\
			\mathbf{36} \quad &d&a&c&b\\
			\end{array}
			$
			\end{center}
			
			If we consider only the first level there are $26$ individuals voting for $a$, $25$ voting for $c$, $49$ voting for $d$, and none voting for $b$. No alternative reaches the quota, which is $q=64$, therefore we descend one level. Considering now the first two levels $a$ gets $62$ votes, $b$ gets $64$ votes, $c$ gets $25$ votes and $d$ gets $49$ votes. The social choice function would then select $b$, even though there is a big group of $36$ voters for which this outcome corresponds to the least preferred alternative.
			Consider the other extreme, $z=99$, the profile would then be the following: 
			
			\begin{center}
				$
				\begin{array}{ccccc}
				\mathbf{26} \quad &a&b&c&d\\
				\mathbf{25} \quad &c&b&a&d\\
				\mathbf{48} \quad &d&b&a&c\\
				\mathbf{1} \quad &d&a&c&b\\
				\end{array}
				$
				\end{center} 
				
				The reasoning follows the same steps than the previous case, working now for any $q\in \left\{ 64,..., 99 \right\}$. Even though only one person now ranks $b$ at the last position, the example does not lose his strength. Indeed, if it may seem reasonable to prefer the willing of the $99\%$ of the population, the result may nevertheless be considered as not satisfying the concept of a compromise. In a world where, for example, a decision regarding organs exchanging or selling has to be taken, the fairness becomes a crucial point.
				\end{example}

\section{Transf}
Given sets $A, B, C, G \subseteq C^B$, given $\emptyset ≠ V \subseteq B^A$ a subset of the injective functions from $A$ to $B$. Define $F_1 \subseteq C^A$ as the set of functions $f$ such that $\exists v \in V, g \in G \suchthat f = g \circ v$. Define $F_2 \subseteq C^A$ as the set of functions $f$ such that $\forall v \in V, \exists g \in G \suchthat f = g \circ v$. It follows that $F_2 \subseteq F_1$. We are interested in defining a condition on $G$ which permit to obtain $F_1 \subseteq F_2$. 

We say that \emph{$G$ can compensate for $V$-transformations} iff $\forall v, v' \in V, g \in G, \exists g' \in G \suchthat g' \circ v' = g \circ v$.%; equivalently, such that $g^{v'} = g \circ v \circ v'^{-1}$ on the restricted domain $v'(A) \subseteq B$.

\begin{lemma}
	Given $A, B, C, G \subseteq C^B, \emptyset ≠ V \subseteq B^A$ as constrained above, and $F_1, F_2$ defined as above, if $G$ can compensate for $V$-transformations, then $F_1 \subseteq F_2$.
\end{lemma}
\begin{proof}
	Given $f \in F_1$, take $v, g$ such that $f = g \circ v$. Given any $v' \in V$, we want to find $g'$ such that $f = g' \circ v$. Such a function exists thanks to the hypothesized condition.
\end{proof}

\begin{lemma}
	Given $A, B, C, G \subseteq C^B, \emptyset ≠ V \subseteq B^A$ as constrained above, and $F_1, F_2$ defined as above, if $F_1 \subseteq F_2$, then $G$ can compensate for $V$-transformations.
\end{lemma}
\begin{proof}
	We know that $\forall v, g: [\forall v', \exists g' \suchthat g' \circ v' = g \circ v]$. We have to show that $\forall v, v', g: \exists g' \suchthat g' \circ v' = g \circ v$, which is the same thing.
\end{proof}
\end{document}
