\RequirePackage[l2tabu, orthodox]{nag}
\documentclass[version=3.21, pagesize, notitlepage, twoside=off, bibliography=totoc, DIV=calc, fontsize=12pt, a4paper]{scrartcl}
\input{preamble/packages}
\input{preamble/redac}
\input{preamble/math_basics}
\input{preamble/math_mine}
%\input{preamble/draw}
%\input{preamble/acronyms}
%\input{preamble/refAPIcmds}

%I find these settings useful in draft mode. Should be removed for final versions.
	%Which line breaks are chosen: accept worse lines, therefore reducing risk of overfull lines. Default = 200.
		\tolerance=2000
	%Accept overfull hbox up to...
		\hfuzz=2cm
	%Reduces verbosity about the bad line breaks.
		\hbadness 5000
	%Reduces verbosity about the underful vboxes.
		\vbadness=1300

%\title{Title \thanks{Thanks.}}
%\author{Name1}
%\author{Name2}
%\affil{Université Paris-Dauphine, PSL Research University, CNRS, LAMSADE, 75016 PARIS, FRANCE\\
%	\href{mailto:olivier.cailloux@dauphine.fr}{olivier.cailloux@dauphine.fr}
%}
%\author{Name3}
%\affil{Affil2}
%\hypersetup{
%	pdfsubject={},
%	pdfkeywords={},
%}

\setcounter{MaxMatrixCols}{10}
%TCIDATA{OutputFilter=LATEX.DLL}
%TCIDATA{Version=5.50.0.2953}
%TCIDATA{<META NAME="SaveForMode" CONTENT="1">}
%TCIDATA{BibliographyScheme=Manual}
%TCIDATA{Created=Tuesday, August 09, 2005 15:34:58}
%TCIDATA{LastRevised=Thursday, March 07, 2019 13:36:58}
%TCIDATA{<META NAME="GraphicsSave" CONTENT="32">}
%TCIDATA{<META NAME="DocumentShell" CONTENT="Scientific Notebook\Blank with Theorem Tags">}
%TCIDATA{Language=American English}
%TCIDATA{CSTFile=Math.cst}
%TCIDATA{PageSetup=14,14,57,57,0}
%TCIDATA{AllPages=
%H=36
%F=36,\PARA{038<p type="texpara" tag="Body Text" >\hfill \thepage}
%}
\usepackage[english]{babel}
\usepackage{centernot}

%\newtheorem{theorem}{Theorem}[section]
\newtheorem{acknowledgement}[theorem]{Acknowledgement}
\newtheorem{algorithm}[theorem]{Algorithm}
\newtheorem{axiom}{Axiom}[section]
\newtheorem{case}{Case}[section]
\newtheorem{claim}{Claim}[section]
\newtheorem{conclusion}{Conclusion}[section]
\newtheorem{condition}{Condition}[section]
\newtheorem{conjecture}{Conjecture}[section]
%\newtheorem{corollary}{Corallary}[section]
\newtheorem{criterion}{Criterion}[section]
%\newtheorem{definition}{Definition}[section]
%\newtheorem{example}{Example}[section]
\newtheorem{exercise}{Exercise}[section]
%\newtheorem{lemma}{Lemma}[section]
\newtheorem{notation}{Notation}[section]
\newtheorem{problem}{Problem}[section]
%\newtheorem{proposition}{Proposition}[section]
%\newtheorem{remark}{Remark}[section]
\newtheorem{solution}{Solution}[section]
\newtheorem{summary}{Summary}[section]
%\newenvironment{proof}[1][Proof]{\noindent\textbf{#1.} }{\ \rule{0.5em}{0.5em}}

\usepackage{blkarray}
\usepackage{booktabs}
\usepackage{amsmath}


\title{Ex-Ante versus Ex-Post \\ Compromise}
\author{}
\date{}

\newcommand{\commentBN}[1]{\textcolor{magenta}{\small$\big[$BN: #1$\big]$}}
\newcommand{\commentRS}[1]{\textcolor{red}{\small$\big[$RS: #1$\big]$}}
\newcommand{\paretopt}{\mathit{PO}}
\newcommand{\SPPd}{\Sigma^\text{PPd}}
\newcommand{\SAll}{\Sigma^\text{All}}
\newcommand{\SThreshold}{\Sigma_\text{threshold}}
\newcommand{\vpr}{\mathbf{v}}
\newcommand{\musigma}{\mu_{\sigma}}
\newcommand{\mustar}{\mu_{\sigma}^*}
\begin{document}

\maketitle
\thispagestyle{empty}

\begin{abstract}
	A classical social choice setting is composed of a group of individuals, or voters, that express their preferences over a set of alternatives. The social choice problem consists in defining a procedure able to determine a collective choice for this group of voters, starting from their individual preferences. Such procedure is called social choice rule and it can be defined as a function mapping preference profiles to alternatives. Depending on the properties that this function satisfies, very different outcomes can be produced starting from the same initial profile. The plurality rule is one of the most common social choice rule and it consists in selecting, as a winner, the alternative that is considered the best by the largest number of voters forming the society. Yet, this rule can pick, as a winner, an alternative that is considered the worst by a strict majority of voters. Such outcome may be undesirable. Several procedures, the so-called compromise rules, have been proposed in the literature that aim to find a compromise. Nevertheless, all those rules can be defined as \textit{ex-ante compromises} or \textit{procedural compromises}, i.e., they impose over individuals a willingness to compromise but they do not ensure an outcome where everyone has effectively compromised. In this work, we approach the problem of compromise from an \textit{ex-post} perspective, favoring an outcome where every voter gives up her most preferred positions if this increases equality. We propose a new notion of compromise in the social choice context, considering ordinal utilities. 
\end{abstract}

\pagebreak

\section{Introduction and Related Works}

In a social choice situation where individuals have preferences over several alternatives there is no unique procedure for selecting a common agreement between them. One of the way to define such a procedure is to prefer the quantity of support behind an alternative (i.e. the number of voters who favor it) to the quality of its support (i.e. until which level in voters’ preferences is legitimate to descend). This decision may result in a lack of a majority support or, worst, into a strict majority of individuals which strongly dislikes the chosen candidates. Vice versa, favoring the number of voters behind an alternative implies descending levels in individual preferences potentially ending on electing a generally disliked candidate because of the opposition of very few individuals. 

The plurality rule, for example, selects the alternatives which are ranked the best by the largest number of voters. The problem of this procedure is that, as long as there are more than two alternatives, the outcome may lack the support of any majority. In fact, it may also be opposed by a strict majority of agents each of whom ranks the chosen candidate as their least preferred choice. All the rules existing in literature aiming at finding a compromise between voters end up facing the problem of balancing the trade-off between the quality and quantity of support behind alternatives. \citet{Merlin2019} gather them in the class of Compromise Rules. The Majoritarian Compromise \citep{Sertel1999} selects candidates who have the support of a majority in the best degree possible. 
We call BK-compromises the class of $q$-approval fallback bargaining rules introduced by \citet{Brams2001}: the $q$-approval fallback bargaining rule picks ranks $1, 2, \dots$ and stops as soon as at least $q$ voters rank some alternative at the chosen rank or better. All such alternatives form the compromise set, and, among them, the ones which receive the highest support are elected.
We start by an example, based on an observation made by Laslier at Buyukada, that will help us to define the problem and to give the motivation for our approach.


\begin{example}
	\label{ex:ex1}
	Let $N$ be a set of $n$ voters and $A$ a set of alternatives. $L(A)$ represents the set of linear orders over $A$. Consider the following preference profile $P\in L(A)^{N}$
	\begin{center}
		$
		\begin{array}{cccc}
		\mathbf{n-1} \quad &a&b&c\\
		\mathbf{1} \quad &c&b&a\\
		\end{array}
		$
	\end{center}
	which represents $n-1$ individuals who prefer $a$ to $b$, $b$ to $c$, hence $a$ to $c$; and one individual who prefers $c$ to $b$, $b$ to $a$, hence $c$ to $a $. At $P$ all BK-compromises, except fallback bargaining i.e. when $q=n$, pick $a$ as the winner, which does not appear as a compromise as a voter ranks it as her least preferred alternative.
\end{example}

Please note that the group of ignored voters could be even larger.
\begin{example}
	Consider the following preference profile with $n=100$:
	\begin{center}
		$
		\begin{array}{cccc}
		\mathbf{51} \quad &a&b&c\\
		\mathbf{49} \quad &c&b&a\\
		\end{array}
		$
	\end{center}
	When $q\in \left\{ 1,..., \frac{n}{2} +1\right\} $, all BK-compromises pick $a$, and, again, it does not appear as a compromise as 51 voters reach their best alternative while the remaining 49 voters have to be contented with their worst one. Note that for $q\in \left\{ 1,..., \frac{n}{2} -1 \right\} $ the set of possible common agreements determined by the fallback bargaining procedure is $\{a,c\}$. Nevertheless, $a$ receives the highest support thus it is elected.
\end{example}

These two examples illustrate that BK-compromises (except fallback bargaining (FB) where $q=n$) are “ex-ante compromises” or “procedural compromises”, i.e., they impose over individuals a willingness to compromise but they don't ensure an outcome where everyone has effectively compromised. So what is a compromise?

%In the case where the candidates are only two we talk about bargaining \citep{Thomson1994}. The bargaining problem was first axiomatized by \citet{Nash1950}, who also proposed a solution for the problem that is obtained by maximizing the product of the differences between the utility from an agreement and the one from a disagreement (namely the status quo). This is the only bargaining solution that satisfies all the following axioms: independence of equivalent utility transformations, independence of irrelevant alternatives, pareto optimality and symmetry.

\section{Basic notions and notation}
Consider a finite set $N$ of individuals with $\#N=n\geq 2$ and a finite set $A$ of alternatives with $\#A=m\geq 2$. We write $L(A)$ for the set of linear orders over $A$ and $P_{i}\in L(A)$ stands for the preference of $i\in N$. An ordinal social choice rule (SCR) is a mapping $f:L(A)^{N}\rightarrow 2^{A} \setminus \{\emptyset \}$. For each $x \in A$ and $i \in N$ let $r_i(x)$ be the rank of the alternative $x$ in the preference order of $i$; we write with $\lambda^{P}_i(x)=r_{i}(x)-1$ the loss of ranks for $i$ when electing $x$ instead of her favorite alternative. This value can also be seen as the number of pairwise flips we need to perform in order to place $x$ at top position for $i$. Thus, $\lambda ^{P}(x)=(\lambda _{i}^{P}(x))_{i\in N}\in \R_+^N$ represents the vector of losses when electing $x$. 
We define a spread measure $\sigma \in \Sigma$ as a function $\sigma : \R_{+}^{N}\longrightarrow \R_{+}$ such that $\sigma(l_1, \dots, l_n)=0 \iff l_i=l_j \forall i,j \in \{1, \dots, n\}$ given a vector $l \in R_{+}^{N}$. When all the values are the same, a coefficient of zero expresses perfect equality.

\section{Compromises}
Consider the set $\musigma(P)$ as the set of the alternatives whose losses vectors are the most equally distributed according to a spread measure $\sigma$; and $\mustar(P)$ as the set of such alternatives selected among the pareto optimal ones. 
\begin{align}
	\musigma(P) & = \argmin_{x \in A} \sigma(\lambda^P(x)) = \{ x \in A \ | \ \sigma (\lambda^P(x))\leq \sigma (\lambda^P(y)), \forall y \in A \} \\
	\mustar(P) & = \argmin_{x \in PO(P)} \sigma(\lambda^P(x)) = \{ x \in \paretopt(P) \ | \ \sigma (\lambda^P(x))\leq \sigma (\lambda^P(y)), \forall y \in \paretopt(P) \} 
\end{align}
\begin{proposition} \label{prop:disjoint}
	\commentOC{We should determine for which values of $n$ and $m$ there exists $P$ with disjoint such sets.}
	The sets $\musigma(P)$ and $\mustar(P)$ may be disjoint.
\end{proposition}
	\begin{proof} Consider the following profile $P$
		\begin{center}
			$
			\begin{array}{cccc}
			\mathbf{k} \quad &a&b&c\\
			\mathbf{n-k} \quad &b&a&c\\
			\end{array}
			$
		\end{center}
		For each $\sigma \in \Sigma$ we have $\sigma(\lambda^P(a))>0$, $\sigma(\lambda^P(b))>0$, $\sigma(\lambda^P(c))=0$. Thus, the set $\musigma(P)$ of the "most equal" alternatives consist of the only alternative $c$. On the other hand, the set $\mustar(P)$ will never contain $c$ whatever is the choice of $\sigma$ since it is a pareto dominated alternative.
	\end{proof}

Considering $\musigma$ and $\mustar$, we define some classes of social choice rules.
\begin{definition} A SCR $f$ is an \textit{Egalitarian Compromise} EC iff \[\exists \sigma \in \Sigma \suchthat \forall P \in L(A)^N: f(P) \subseteq \musigma(P).\]
\end{definition}

\begin{definition} A SCR $f$ is an EC$^*$ iff \[f(P) \subseteq \musigma(P), \ \forall P \in L(A)^N, \forall \ \sigma \in \Sigma.\]
\end{definition}

\begin{definition} A SCR $f$ is a \textit{Paretian Compromise} PC iff \[\exists \sigma \in \Sigma \suchthat \forall P \in L(A)^N: f(P) \subseteq \mustar(P).\]
\end{definition}

\begin{definition} A SCR $f$ is an PC$^*$ iff \[f(P) \subseteq \mustar(P), \ \forall P \in L(A)^N, \forall \ \sigma \in \Sigma.\]
\end{definition}

\begin{definition} A SCR $f$ is \textit{Egalitarian Compromise Compatible} ECC iff \[\exists \sigma \in \Sigma \suchthat \forall P \in L(A)^N: f(P) \cap \musigma(P) \neq 0.\]
\end{definition}

\begin{definition} A SCR $f$ is ECC$^*$ iff \[f(P) \cap \musigma(P) \neq 0, \ \forall P \in L(A)^N, \forall \ \sigma \in \Sigma.\]
\end{definition}

\begin{definition} A SCR $f$ is \textit{Paretian Compromise Compatible} PCC iff \[\exists \sigma \in \Sigma \suchthat \forall P \in L(A)^N: f(P) \cap \mustar(P) \neq 0.\]
\end{definition}

\begin{definition} A SCR $f$ is PCC$^*$ iff \[ f(P) \cap \mustar(P) \neq 0, \ \forall P \in L(A)^N, \forall \ \sigma \in \Sigma.\]
\end{definition}

\begin{proposition}
	For $n=2, m=2$, no SCR is EC*, and no SCR is PC*.
\end{proposition}
\begin{proof}
	Consider the profile such that voter $1$ prefers $a$ to $b$ and voter $2$ prefers $b$ to $a$. Observe that $\lambda(a) = (0, 1)$ and $\lambda(b) = (1, 0)$. Define $\sigma_1$ and $\sigma_2$ as ordering differently $\lambda(a)$ and $\lambda(b)$. To be EC*, $f$ must satisfy $f(P) \subseteq \set{a}$ and $f(P) \subseteq \set{b}$, which is impossible. The same constraints apply to be PC*.
\end{proof}

In what follow, we analyze some relationships between these classes. It follows from the definitions that if a SCR $f$ is an Egalitarian (or a Paretian) Compromise then $f$ is also Egalitarian (or Paretian) Compromise Compatible. We write this as:
\begin{proposition}
	$\forall n, m ≥ 1, \text{EC} \implies \text{ECC}$ and $\text{PC} \implies \text{PCC}$.
\end{proposition}

Moreover, we can add that
\begin{proposition}
	\commentOC{We should determine for which values of $n$ and $m$ this is true.}
	$\text{EC} \implies \lnot \text{PCC}$ and $\text{PC} \implies \lnot \text{ECC}$.
\end{proposition}
\begin{proof}
	In order to prove the first implication, we have to show that if a SCR $f$ is an Egalitarian Compromise then $\forall \ \sigma \in \Sigma , \ \exists P \in L(A)^N  \text{ s.t. }f(P) \cap \mustar(P) = 0$. Since $f$ is an EC, $f(P) \subseteq \musigma(P)$, but we already showed in Proposition \ref{prop:disjoint} that $\forall \sigma \in \Sigma, \exists P \in L(A)^N $ s.t. $\musigma(P)\cap\mustar(P)=0$. The proof for the second implication works equivalently.
	\commentOC{This proof has a problem: $f$ is an EC means that for some $\sigma$, …, and not for all $\sigma$. We need to use the profile $P = 1 → (a, b, c); 2 → (b, a, c)$ and observe that $f$ being EC implies $f(P)=\set{c}$ and that for all $\sigma'$, $\mu_{\sigma'}^*(P) ≠ \set{c}$. (We have to build an argument for the other claim as well.)}
\end{proof}


\begin{proposition}
	\commentOC{I think that we do not need to state the proposition that $ECC \not ⇒ PCC$, as it is a direct consequence of our other propositions: take a $f$ EC, it is also ECC, and it is not PCC.}
	$\text{ECC} \centernot \implies \text{PCC}$ and $\text{PCC} \centernot \implies \text{ECC}$.
\end{proposition}
 In fact, considering the Proposition \ref{prop:disjoint}, the existence of a spread measure $\sigma$ such that our SCR $f$ picks some alternatives which belong to the set $\musigma$ is not a guarantee that they are also pareto optimal, thus belonging to the set $\mustar$ (and vice-versa).


\begin{proposition}
	There exists a SCR $f$ which is ECC and PCC.
\end{proposition}
\begin{proof}
	Consider the SCR which always selects the whole set of alternatives, $f(P)=A, \forall P \in L(A)^N$. We can see that $\forall P \in L(A)^N$ and $\forall \sigma \in \Sigma$, $\musigma(P) \subseteq A$ and $\mustar(P) \subseteq A$. Therefore, $f(P)=A \cap \musigma(P) \neq \emptyset$ so $f$ is Egalitarian Compromise Compatible, and $f(P)=A \cap \mustar(P) \neq \emptyset$ thus $f$ is Paretian Compromise Compatible.
\end{proof}

/TOCLEAN

\noindent Consider again the profile $P$ of the Example \ref{ex:ex1}. 
	\begin{center}
		$
		\begin{array}{cccc}
		\mathbf{n-1} \quad &a&b&c\\
		\mathbf{1} \quad &c&b&a\\
		\end{array}
		$
	\end{center}
\commentOC{Shouldn’t we consider these claims for each $n, m$?}
	At $P$, $b$ is the only efficient \commentBN{efficient egalitarian alternative}, and we can say that 
\begin{itemize}
	\item Condorcet is not an efficient compromise since it picks $a$ as the winner.
	\item No scoring rule except anti-plurality is an efficient compromise (see Proof below).
	\item No BK-compromise is an efficient compromise, unless $q=n$ which is fallback bargaining. Indeed for $q=\{1,\dots, n-1\}$ the alternative selected by the BK-compromise rules is $a$.
	\item No preferential runoff method is an efficient compromise since it always selects $a$ in the first round.
\end{itemize}
As mentioned above, for the considered example no scoring rule except anti-plurality is an efficient compromise.
\begin{proof} Without loss of generality we can consider the scoring function $s:\{1,\dots,m\}\rightarrow [0,1]$ as a function assigning $1$ to the alternative ranked at the first position, and $0$ to the one ranked at the last. Therefore, the alternative ranked in the second position will have a score $0 \leq \lambda<1$. We exclude $\lambda = 1$ which is anti-plurality.
	\begin{center}
		$
		\begin{array}{ccc}
		\quad & \mathbf{n-1} &\mathbf{1}\\
		1 \quad &a&c\\
		\lambda \quad &b&b\\
		0 \quad &c&a\\
		\end{array}
		$
	\end{center}
	We have that $s(a)=n-1$, $s(b)=(n-1+1)\cdot \lambda$, $s(c)=1$. We can see that the alternative $a$ will always be selected as winner because $s(a)$ is always greater than $s(b)$ and $s(c)$. For $c$ is trivial, for $b$ we have that $n-1>n\cdot\lambda$ so $n-1>\frac{\lambda}{(1-\lambda)}$ and since $\lambda \neq 1$ that is always the case.
\end{proof}

\commentBN{The following definitions have been characterized on the 15/11 and are susceptible to changes.}
\begin{definition}
	An \textit{unequivocal compromise alternative} is an alternative ranked at the same position by all voters. If it is not Pareto dominated then it is also efficient.
\end{definition}
\begin{conjecture}
	A SCR f is a compromise $\iff$ if an unequivocal compromise alternative exists than f only picks unequivocal compromise alternatives.
\end{conjecture}
\begin{conjecture}
	A SCR f is an efficient compromise $\iff$ if an efficient unequivocal compromise alternative exists than it is picked as a sole winner.
\end{conjecture}
\begin{definition}[Compromise]
	\[ COMP(P) = \argmin_x \sigma(\lambda^P(x)) \]
	\[f(P) \subseteq COMP(P) \qquad \forall P \text{ for some } \sigma\]
\end{definition}
\begin{definition}[Efficient Compromise]
	\[ EffCOMP(P) = \argmin_{x \in \paretopt(P)} \sigma(\lambda^P(x)) \]
	\[f(P) \subseteq EffCOMP(P) \qquad \forall P \text{ for some } \sigma\]
\end{definition}
\begin{definition}[Compromise Compatible]
	A SCR f is compromise compatible $\iff$
	$f(P) \cap COMP(P) \neq 0 \qquad \forall P \text{ for some } \sigma$.
\end{definition}
\begin{definition}[Compromise Compatible]
	A SCR f is efficient compromise compatible $\iff$
	$f(P) \cap EffCOMP(P) \neq 0 \qquad \forall P \text{ for some } \sigma$.
\end{definition}
\begin{proposition}
	Condorcet, Scoring Rules (except Anti-Plurality), BK-Compromise (except FB) are neither compromise nor compromise compatible.
\end{proposition}

Antiplurality and FB are closer to be compromise.

\begin{proposition}
	Anti-plurality is not compromise compatible.
\end{proposition}
\begin{proof} Consider the following profile $P$
	\begin{center}
		$
		\begin{array}{cc}
		a&b\\
		b&a\\
		c&c\\
		\end{array}
		$
	\end{center}
	$COMP(P)=\{c\}$ and $\textit{antiplr}(P)=\{a,b\}$, so $COMP(P) \cap \textit{antyplr}(P)=0$ at $P$.
\end{proof}

\begin{definition}
	\label{def:effcomprcmp}
	A SCR f is efficient compromise compatible $\iff$ if an efficient unequivocal compromise alternative exists it must be among the winner.
\end{definition}

\begin{proposition}
	Efficient anti-plurality is efficient compromise compatible.
\end{proposition}

\begin{proof}
	It follows from \ref{def:effcomprcmp}. TODO
\end{proof}
\begin{example}
	Consider the following profile $P$
	\begin{center}
		$
		\begin{array}{cc}
		a&b\\
		c&c\\
		b&a\\
		d&d\\
		\end{array}
		$
	\end{center}
	$EffCOMP(P)=\{c\}$ and $\textit{effantiplr}(P)=\{a,b,c\}$.
\end{example}
\begin{proposition}
	FB is neither compromise compatible nor efficient compromise compatible.
\end{proposition}
\begin{proof} Consider the following profile $P$
	\begin{center}
		$
		\begin{array}{cc}
		\mathbf{i_1}& \mathbf{i_2} \\
		x &b_1\\
		a_1 &\cdot\\
		\cdot &\cdot\\
		\cdot &b_{k-1}\\
		\cdot &y\\
		a_k &x\\
		y &b_k\\
		b_1 &a_1\\
		\cdot &\cdot\\
		\cdot &\cdot\\
		b_k &a_k\\
		\end{array}
		$
	\end{center}
	$COMP(P)=EffCOMP(P)=\{c\}$ and $\textit{FB}(P)=\{x\}$.
\end{proof}


\bibliography{biblio}
\bibliographystyle{abbrv}

\pagebreak
\appendix
\section{Spread Measures}
In our idea of compromise, we aim to determine the “most equally distributed” vector within $\left\{ \lambda^P(x)\right\} _{x\in A}$. We thus need to adopt a spread measure which is a mapping $\sigma \in \SAll: \R_{+}^{N}\longrightarrow \R_{+}$ which satisfies $\sigma(r_i, \dots, r_n)=0 \iff r_i=r_j \forall i,j$. In what follows, we will consider various classes of possible spread measures.

\begin{definition}[Pairwise Pareto dominance]
	\label{def:PPD}
	For all $r$, $s\in \R_{+}^{N}$: 
	\[\left[\left\vert r_{i}-r_{j}\right\vert \leq \left\vert s_{i}-s_{j}\right\vert \forall i, j\in N\right] ⇒ \sigma (r)\leq \sigma (s).\] 
\end{definition}
We write $\SPPd \subseteq \SAll$ for the class of spread measures that satisfy also PPd.
Given a vector $r \in \R^N$ of $n$ elements, some examples of spread measures are the following.

\subsection{Mean Absolute Difference}
\[\sigma_{mad}(r)= \frac{1}{n^2} \sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j| \]
The mean absolute difference is a measure of dispersion calculated as the arithmetic mean of the absolute value of all possible differences. 
\begin{proposition}
	$\sigma_{mad}$ is a spread measure and it satisfies PPd.
\end{proposition}
\begin{proof} 
	In order to be a spread measure as we defined $\sigma_{mad}$ should be zero when all the elements of $r$ are equals, $r_i-r_j = 0 \ \forall i,j\in {1, \dots, n}$. In this case the sum term $\sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j|$ will always be zero, and thus $\sigma_{mad}(r)=0$ for such $r$. Hence $\sigma_{mad}$ is a spread measure.
	In order to prove the satisfaction of PPd we can observe that, given two vectors $r,s \in \R^N$, if \mbox{$|r_{i}-r_{j}| \leq |s_{i}-s_{j}| \ \forall i,j \in N$} then also \[\sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j| \leq \sum_{i=1}^{n}\sum_{j=1}^{n}|s_i-s_j| \]
	The remaining term $\frac{1}{n^2}$ is constant and it is equal for both sides, so $\sigma_{mad}(r) \leq \sigma_{mad}(s)$ and PPd is satisfied.
\end{proof}
\begin{example}
	\label{ex:spreadVectors}
	\begin{align}
	s=(3,3,3,3) \\
	t=(1,2,3,4) \\
	w=(1,3,5,7) \\
	\end{align}
	In order for a function $\sigma$ to be a spread measure it must be that $\sigma(s)=0$, and to satisfy PPd it must be $\sigma(t)<\sigma(w)$.
	
	Compute now $\sigma_{mad}$ for these vectors, we have:
	\begin{align}
	\sigma_{mad}(s) &= \frac{1}{4^2} \cdot 0 =0 \\
	\sigma_{mad}(t) &= \frac{1+2+3+1+1+2+2+1+1+3+2+1}{4^2}=\frac{20}{16} \\
	\sigma_{mad}(w) &= \frac{2+4+6+2+2+4+4+2+2+6+4+2}{4^2}=\frac{40}{16} \\
	\end{align}
	\begin{align}
	\sigma_{mad}(s) = 0 \ \surd \\
	\sigma_{mad}(t) \leq \sigma_{mad}(w) \rightarrow PPd \ \surd \\
	\end{align}
\end{example}




\subsection{Average Absolute Deviation}
\[\sigma_{ad}(r)= \frac{\sum_{i=1}^{n}|r_i-\bar{r}|}{n}\]
The average absolute deviation considers the differences between the values of the vector and their arithmetic mean $\bar{r}$.

\begin{proposition}
	\label{prop:ad}
	$\sigma_{ad}$ is a spread measure and it satisfies PPd.
\end{proposition}
\begin{proof}
	When $r_i=r_j \ \forall i,j\in {1, \dots, n}$ then $\bar{r}=\frac{\sum_{i=1}^{n}r_i}{n}=r_i$ for any $i \in N$. It follows that $\sum_{i=1}^{n}|r_i-\bar{r}|=0$ and $\sigma_{ad}(r)=0$.
	
	In order to prove that $\sigma_{ad}$ satisfies PPd we have to show that:
	
	\begin{align}
	\sigma_{ad}(r) &\leq \sigma_{ad}(s) \\
	\frac{\sum_{i=1}^{n}|r_i-\bar{r}|}{n} &\leq \frac{\sum_{i=1}^{n}|s_i-\bar{s}|}{n} \\
	\sum_{i=1}^{n}|r_i-\bar{r}| &\leq \sum_{i=1}^{n}|s_i-\bar{s}| \\
	\sum_{i=1}^{n}|r_i-\frac{\sum_{j=1}^{n}r_{j}}{n}| &\leq \sum_{i=1}^{n}|s_i-\frac{\sum_{j=1}^{n}s_{j}}{n}| \\
	\sum_{i=1}^{n}|\frac{n \cdot r_i}{n}-\frac{\sum_{j=1}^{n}r_{j}}{n}| &\leq \sum_{i=1}^{n}|\frac{n \cdot s_i}{n}-\frac{\sum_{j=1}^{n}s_{j}}{n}| \\
	\sum_{i=1}^{n}|\frac{\sum_{j=1}^{n}r_i}{n}-\frac{\sum_{j=1}^{n}r_{j}}{n}| &\leq \sum_{i=1}^{n}|\frac{\sum_{j=1}^{n}s_i}{n}-\frac{\sum_{j=1}^{n}s_{j}}{n}| \\
	\sum_{i=1}^{n}|\frac{\sum_{j=1}^{n}r_i - r_j}{n}| &\leq \sum_{i=1}^{n}|\frac{\sum_{j=1}^{n}s_i - s_j}{n}| \\
	\sum_{i=1}^{n}|\sum_{j=1}^{n}r_i - r_j| &\leq \sum_{i=1}^{n}|\sum_{j=1}^{n}s_i - s_j| \\
	\end{align}
	But we can consider that 
	\begin{itemize}
		\item $\sum_{i=1}^{n}|\sum_{j=1}^{n}r_i - r_j| \geq |\sum_{i=1}^{n}\sum_{j=1}^{n}r_i - r_j|$
		\item $\sum_{i=1}^{n}|\sum_{j=1}^{n}s_i - s_j| \leq \sum_{i=1}^{n}\sum_{j=1}^{n}|s_i - s_j|$
	\end{itemize}
	and, therefore, go back to our proof showing that
	\begin{align}
	|\sum_{i=1}^{n}\sum_{j=1}^{n}r_i - r_j| \leq \sum_{i=1}^{n}|\sum_{j=1}^{n}r_i - r_j| &\leq \sum_{i=1}^{n}|\sum_{j=1}^{n}s_i - s_j| \leq \sum_{i=1}^{n}\sum_{j=1}^{n}|s_i - s_j| \\
	|\sum_{i=1}^{n}\sum_{j=1}^{n}r_i - r_j| &\leq \sum_{i=1}^{n}\sum_{j=1}^{n}|s_i - s_j|
	\end{align}
	By assumption	
	\begin{align}
	|r_{i}-r_{j}| &\leq |s_{i}-s_{j}| \ \forall i,j \in N \\ \sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j| &\leq \sum_{i=1}^{n}\sum_{j=1}^{n}|s_i-s_j| \\
	\end{align}
	and by triangle inequality
	\begin{align}
	|\sum_{i=1}^{n}\sum_{j=1}^{n}r_i-r_j| &\leq \sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j| \\
	\end{align}
	it follows that 
	\begin{align}
	|\sum_{i=1}^{n}\sum_{j=1}^{n}r_i-r_j| \leq \sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j| \leq \sum_{i=1}^{n}\sum_{j=1}^{n}|s_i-s_j| \\
	\end{align}
	This concludes the proof.
\end{proof}

Consider the vectors of the Example \ref{ex:spreadVectors}.
If we compute $\sigma_{ad}$ for those vectors we have:
\begin{align}
\sigma_{ad}(s) &= \frac{\sum_{i=1}^{4} |3-3|}{4} =0 \\
\sigma_{ad}(t) &= \frac{|1-2.5|+|2-2.5|+|3-2.5|+|4-2.5|}{4}=\frac{4}{4}=1 \\
\sigma_{ad}(w) &= \frac{|1-4|+|3-4|+|5-4|+|7-4|}{4}=\frac{8}{4}=2 \\
\end{align}
\begin{align}
\sigma_{ad}(s) = 0 \ \surd \\
\sigma_{ad}(t) \leq \sigma_{ad}(w) \rightarrow PPd \ \surd \\
\end{align}

\subsection{Standard Deviation}
\[\sigma_{sd}(r)= \sqrt{\frac{\sum_{i=1}^{n}(r_i-\bar{r})^2}{n}}\]
\begin{proposition}
	$\sigma_{sd}$ is a spread measure and it satisfies PPd.
\end{proposition}
\begin{proof}
	If $r_i=r_j \ \forall i,j\in {1, \dots, n}$ then $\bar{r}=\frac{\sum_{i=1}^{n}r_i}{n}=r_i$ for any $i \in N$, thus the sum will be zero and $\sigma_{sd}(r)=0$.
	\\ To prove that $\sigma_{sd}$ satisfies PPd we need to show that
	\[\sum_{i=1}^{n}(r_i-\bar{r})^2 \leq \sum_{i=1}^{n}(s_i-\bar{s})^2\]
	Since 
	\[(r_i-\bar{r})^2 = |r_i-\bar{r}|^2 \text{ and } (s_i-\bar{s})^2 = |s_i-\bar{s}|^2 \] 
	we can rewrite it as
	\[\sum_{i=1}^{n}|r_i-\bar{r}|^2 \leq \sum_{i=1}^{n}|s_i-\bar{s}|^2\]
	We know that 
	\[ \sum_{i=1}^{n}|r_i-\bar{r}|^2 \leq (\sum_{i=1}^{n}|r_i-\bar{r}|)^2 \text{ and }
	\sum_{i=1}^{n}|s_i-\bar{s}|^2 \leq (\sum_{i=1}^{n}|s_i-\bar{s}|)^2 \]
	indeed, in case $n=2$, $(a-b)^2 = a^2+2ab+b^2$ so $(a-b)^2 \geq a^2+b^2$ only if $2ab > 0$; in our case $a$ and $b$ are the terms of the summation, respectively $|r_1-\bar{r}|$ and $|r_2-\bar{r}|$ (or $|s_1-\bar{s}|$ and $|s_2-\bar{s}|$) so they are always positive. So we can rewrite our expression as 
	\[\sum_{i=1}^{n}|r_i-\bar{r}|^2 \leq \sum_{i=1}^{n}|s_i-\bar{s}|^2  \leq (\sum_{i=1}^{n}|s_i-\bar{s}|)^2 \]
	and if we show that $\sum_{i=1}^{n}|r_i-\bar{r}|^2 \leq (\sum_{i=1}^{n}|s_i-\bar{s}|)^2 $ then the proof is concluded.
	From the proof of Proposition \ref{prop:ad}, we know that
	\begin{align}
	\sum_{i=1}^{n}|r_i-\bar{r}| &\leq \sum_{i=1}^{n}|s_i-\bar{s}| \\
	(\sum_{i=1}^{n}|r_i-\bar{r}|)^2 &\leq (\sum_{i=1}^{n}|s_i-\bar{s}|)^2
	\end{align}
	so we can affirm that 
	\[\sum_{i=1}^{n}|r_i-\bar{r}|^2 \leq (\sum_{i=1}^{n}|r_i-\bar{r}|)^2 \leq (\sum_{i=1}^{n}|s_i-\bar{s}|)^2 \]
	Therefore $\sum_{i=1}^{n}|r_i-\bar{r}|^2 \leq (\sum_{i=1}^{n}|s_i-\bar{s}|)^2 $ and this concludes the proof.
\end{proof}
Consider the vectors of Example \ref{ex:spreadVectors}.
If we compute $\sigma_{sd}$ for those vectors we have:
\begin{align}
\sigma_{sd}(s) &= \sqrt{\frac{\sum_{i=1}^{4} (3-3)^2}{4}}=0 \\
\sigma_{sd}(t) &= \sqrt{\frac{(1-2.5)^2+(2-2.5)^2+(3-2.5)^2+(4-2.5)^2}{4}}=\sqrt{\frac{5}{4}} \\
\sigma_{sd}(w) &= \sqrt{\frac{(1-4)^2+(3-4)^2+(5-4)^2+(7-4)^2}{4}}=\sqrt{\frac{20}{4}}=\sqrt{5} \\
\end{align}
\begin{align}
\sigma_{sd}(s) = 0 \ \surd \\
\sigma_{sd}(t) \leq \sigma_{sd}(w) \rightarrow PPd \ \surd \\
\end{align}

\subsection{Gini Coefficient}
\[\sigma_{G}(r)= \frac{\sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j|}{2 \cdot n \cdot \sum_{i=1}^{n} r_i}\]
\begin{proposition}
	$\sigma_{G}$ is a spread measure but it does not satisfy PPd.
\end{proposition}
\begin{proof}
	When $r_i=r_j \ \forall i,j\in {1, \dots, n}$ then the numerator of $\sigma_{G}$ is $0$, thus $\sigma_{G}(r)=0$. When $|r_{i}-r_{j}| \leq |s_{i}-s_{j}| \ \forall i,j \in N $ then the numerator of $\sigma_{G}(r)$ is less than or equal to the numerator of $\sigma_{G}(s)$ but it could be that the sum of the elements of $s$ is bigger than the one of $r$, resulting into $\sigma_{G}(s)$ having a greater denominator than $\sigma_{G}(r)$ and therefore $\sigma_{G}(s) \leq \sigma_{G}(r)$. To see that consider the following vectors:
	\begin{align}
	t'=(1,1,2,2) \\
	w'=(2,2,3,3) \\
	\end{align}
	\begin{align}
	\sigma_{G}(t') &= \frac{(1+1)\cdot 4}{2 \cdot 4 \cdot 6}=\frac{1}{6} \\
	\sigma_{G}(w') &= \frac{(1+1)\cdot 4}{2 \cdot 4 \cdot 10}=\frac{1}{10} \\
	\end{align}
	$|t'_{i}-t'_{j}| \leq |w'_{i}-w'_{j}| \forall i, j$ but $\sigma_{G}(t') \nleq \sigma_{G}(w')$
\end{proof}

TODO: Give reference to the relevant literature, also to the Pareto dominance condition.

\end{document}
