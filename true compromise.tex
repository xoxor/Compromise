\RequirePackage[l2tabu, orthodox]{nag}
\documentclass[version=3.21, pagesize, notitlepage, twoside=off, bibliography=totoc, DIV=calc, fontsize=11pt, a4paper]{scrartcl}
\input{myPreamble/packages.tex}
\input{myPreamble/maths.tex}

\newcommand{\commentBN}[1]{\textcolor{magenta}{\small$\big[$BN: #1$\big]$}}
\newcommand{\commentRS}[1]{\textcolor{red}{\small$\big[$RS: #1$\big]$}}
\newcommand{\paretopt}{\text{PO}}
\newcommand{\SPPd}{\Sigma^\text{PPd}}
\newcommand{\SAll}{\Sigma^\text{All}}
\newcommand{\SThreshold}{\Sigma_\text{threshold}}
\newcommand{\vpr}{\mathbf{v}}
\newcommand{\musigma}{\mu_{\sigma}}
\newcommand{\mustar}{\mu_{\sigma}^*}
\usepackage{enumitem}
\usepackage{centernot}

\title{Ex-Ante versus Ex-Post Compromise}
\author{Submission ID}
\date{}

\begin{document}
	\maketitle
	\thispagestyle{empty}

\begin{abstract}
	A classical social choice setting is composed of a group of individuals, or voters, that express their preferences over a set of alternatives. The social choice problem consists in defining a procedure able to determine a collective choice for this group of voters, starting from their individual preferences. Such procedure is called social choice rule and it can be defined as a function mapping preference profiles to alternatives. Depending on the properties that this function satisfies, very different outcomes can be produced starting from the same initial profile. The plurality rule is one of the most common social choice rule and it consists in selecting, as a winner, the alternative that is considered the best by the largest number of voters forming the society. Yet, this rule can pick, as a winner, an alternative that is considered the worst by a strict majority of voters. Such outcome may be undesirable. Several procedures, the so-called compromise rules, have been proposed in the literature that aim to find a compromise. Nevertheless, all those rules can be defined as \textit{ex-ante compromises} or \textit{procedural compromises}, i.e., they impose over individuals a willingness to compromise but they do not ensure an outcome where everyone has effectively compromised. In this work, we approach the problem of compromise from an \textit{ex-post} perspective, favoring an outcome where every voter gives up her most preferred positions if this increases equality. We propose a new notion of compromise in the social choice context, considering ordinal utilities. 
\end{abstract}

\pagebreak

\section{Introduction and Related Works}

In a social choice situation where individuals have preferences over several alternatives there is no unique procedure for selecting a common agreement between them. One of the way to define such a procedure is to prefer the quantity of support behind an alternative (i.e. the number of voters who favor it) to the quality of its support (i.e. until which level in voters’ preferences is legitimate to descend). This decision may result in a lack of a majority support or, worst, into a strict majority of individuals which strongly dislike the chosen candidates. Vice versa, favoring the number of voters behind an alternative implies descending levels in individual preferences potentially ending on electing a generally disliked candidate because of the opposition of very few individuals. 

The plurality rule, for example, selects the alternatives which are ranked the best by the largest number of voters. The problem of this procedure is that, as long as there are more than two alternatives, the outcome may lack the support of any majority. In fact, it may also be opposed by a strict majority of agents each of whom ranks the chosen candidate as their least preferred choice. All the rules existing in literature aiming at finding a compromise between voters end up facing the problem of balancing the trade-off between the quality and quantity of support behind alternatives. \citet{Merlin2019} gather them in the class of Compromise Rules. The Majoritarian Compromise \citep{Sertel1999} selects candidates who have the support of a majority in the best degree possible. 
We call BK-compromises the class of $q$-approval fallback bargaining rules introduced by \citet{Brams2001}: the $q$-approval fallback bargaining rule picks ranks $1, 2, \dots$ and stops as soon as at least $q$ voters rank some alternative at the chosen rank or better. All such alternatives form the compromise set, and, among them, the ones which receive the highest support are elected.
We start by an example, based on an observation made by Laslier at Buyukada, that will help us to define the problem and to give the motivation for our approach.


\begin{example}
	\label{ex:ex1}
	Let $N$ be a set of $n$ voters and $A$ a set of alternatives. $\linors$ represents the set of linear orders over $A$. Consider the following preference profile $P\in \linors^{N}$
	\begin{center}
		$
		\begin{array}{cccc}
		\mathbf{1} \quad &c&b&a\\
		\mathbf{n-1} \quad &a&b&c\\
		\end{array}
		$
	\end{center}
	which represents $n-1$ individuals who prefer $a$ to $b$, $b$ to $c$, hence $a$ to $c$; and one individual who prefers $c$ to $b$, $b$ to $a$, hence $c$ to $a $. At $P$ all BK-compromises, except fallback bargaining i.e. when $q=n$, pick $a$ as the winner, which does not appear as a compromise as a voter ranks it as her least preferred alternative.
\end{example}

\noindent Please note that the group of ignored voters could be even larger.
\begin{example}
	Consider the following preference profile with $n=100$:
	\begin{center}
		$
		\begin{array}{cccc}
		\mathbf{49} \quad &c&b&a\\
		\mathbf{51} \quad &a&b&c\\
		\end{array}
		$
	\end{center}
	When $q\in \left\{ 1,..., \frac{n}{2} +1\right\} $, all BK-compromises pick $a$, and, again, it does not appear as a compromise as 51 voters reach their best alternative while the remaining 49 voters have to be contented with their worst one. Note that for $q\in \left\{ 1,..., \frac{n}{2} -1 \right\} $ the set of possible common agreements determined by the fallback bargaining procedure is $\{a,c\}$. Nevertheless, $a$ receives the highest support thus it is elected.
\end{example}

These two examples illustrate that BK-compromises (except fallback bargaining (FB) where $q=n$) are \oquot ex-ante compromises\cquot \ or \oquot procedural compromises\cquot, i.e., they impose over individuals a willingness to compromise but they don't ensure an outcome where everyone has effectively compromised. So what is a compromise?

%In the case where the candidates are only two we talk about bargaining \citep{Thomson1994}. The bargaining problem was first axiomatized by \citet{Nash1950}, who also proposed a solution for the problem that is obtained by maximizing the product of the differences between the utility from an agreement and the one from a disagreement (namely the status quo). This is the only bargaining solution that satisfies all the following axioms: independence of equivalent utility transformations, independence of irrelevant alternatives, Pareto optimality and symmetry.

\section{Basic notions and notation}
Consider a finite set $N$ of individuals with $\#N=n\geq 2$ and a finite set $A$ of alternatives with $\#A=m\geq 2$. We write $\linors$ for the set of linear orders (a connected, transitive, asymmetric relation) over the set of alternatives $A$. A \emph{social choice rule} (SCR) is a mapping $f:\linors^{N}\rightarrow 2^{A} \setminus \{\emptyset \}$. Each individual $i \in N$ is associated to her preference order $\pref_i \in \linors$. Following the classical nomenclature, we call {\em profile} $P: N \rightarrow \linors$ the association of a preference order to each individual. We define the \emph{rank} of alternative $x$ in the preference order of the individual $i$ as the number of alternatives that $i$ weakly prefers to $x$: $r_{\pref_i}(x)=\#\{y \in A | y\pref_i x \}+1$. Given a profile $P$ and two alternatives $x$ and $y$, we say that $x$ \emph{Pareto dominates} $y$, and that $y$ is \emph{Pareto dominated}, iff $x \pref_i y, \forall i \in N$. We denote with $\paretopt(P)= \{x \in A | \forall y ≠ x \in A, \exists i \in N \mid x \pref_i y \}$ the set of \emph{Pareto optimal} alternatives, i.e., the alternatives which are not Pareto dominated. A SCR $f$ is \emph{Paretian} iff $\forall P \in \linors^N: f(P) \subseteq \paretopt(P)$.

We write with $\lambda^{P}_i(x)=r_{\pref_i}(x)-1$ the loss for $i$ when electing $x$ instead of her favorite alternative, in number of ranks. This value can also be seen as the minimal number of pairwise flips required for placing $x$ at top position for $i$. Thus, $\lambda ^{P}(x)=(\lambda _{i}^{P}(x))_{i\in N}\in \llbracket 0,m-1 \rrbracket^{N}$ represents the vector of losses when electing $x$. 
Considering a loss vector, we are interested in measuring its \oquot spread\cquot. We define a spread measure as a function $\sigma: \llbracket 0,m-1 \rrbracket^{N}\longrightarrow \R_{+}$ that associates a spread value to each possible loss vector.
We call $\Sigma$ the set of spread measures $\sigma$ such that for each vector $l \in \llbracket 0,m-1 \rrbracket^{N}$,  $\sigma(l_1, \dots, l_n)=0 \iff l_i=l_j$ $\forall i,j \in \llbracket 0,n \rrbracket$ . Thus, the spread of $l$ gets its lowest value $0$ in case of perfect equality and only in such case.

\section{Egalitarian versus Paretian compromises}
\subsection{Egalitarian compromise}
We define the set $\musigma(P)$ as the set of the alternatives whose loss vectors are the most equally distributed according to the spread measure $\sigma$.
\[
	\musigma(P) = \argmin_{x \in A} \sigma(\lambda^P(x)) = \{ x \in A \ | \ \sigma (\lambda^P(x))\leq \sigma (\lambda^P(y)), \forall y \in A \}
\]

Considering $\musigma$, we define some classes of social choice rules.

\begin{definition} A SCR $f$ is an \textit{Egalitarian Compromise} EC iff \[\exists \sigma \in \Sigma \suchthat \forall P \in \linors^N \text{ we have }f(P) \subseteq \musigma(P).\]
\end{definition}

\begin{definition} A SCR $f$ is \textit{Egalitarian Compromise Compatible} ECC iff \[\exists \sigma \in \Sigma \suchthat \forall P \in \linors^N \text{ we have } f(P) \cap \musigma(P) \neq \emptyset.\]
\end{definition}

\begin{proposition} \label{prop:nonParetian}
	For $n\geq 2, \ m\geq3$, $\nexists$ a Paretian SCR $f$ which is $ECC$.
\end{proposition}
	\begin{proof}
		In order to prove the proposition we need to show that there exists a profile $P$ such that $\paretopt(P) \cap \musigma(P) = \emptyset$, $\forall \sigma \in \Sigma$.
		 
		Consider the following profile $P$,
		\begin{center}
			$
			\begin{array}{ccccc}
			\mathbf{1} \quad &a_1&a_2&\dots&a_m\\
			\mathbf{n-1} \quad &a_{\pi_(1)}&a_{\pi_(2)}&\dots&a_{\pi_(m)}\\
			\end{array}
			$
		\end{center}
		where 
		\[
		\pi(i) = 
		\begin{cases}
		i+1 & \text{if } i \in \llbracket 1,m-2 \rrbracket \\
		1 & \text{if } i = m-1 \\
		m & \text{if } i = m
		\end{cases}.
		\]
		We can observe that $a_m$ is the only alternative ranked at the same position by every voter, and it is ranked last. Hence, for each $\sigma \in \Sigma$ the spread associated to every alternative except $a_m$ is greater than zero $\sigma(\lambda^P(x))>0$, $\forall x \in A \setminus \{a_m\}$, while $\sigma(\lambda^P(a_m))=0$. The set $\musigma(P)$ of the \oquot most equal\cquot \ alternatives consists then of the only element $a_m$. 
		
		Furthermore, we can also observe that the only Pareto optimal alternatives are $a_1$ and $a_2$. 
		Thus, we can conclude that the two sets $\musigma(P)=\{a_m\}$ and $\paretopt(P)=\{a_1,a_2\}$ are disjoint $\forall \sigma \in \Sigma$.
	\end{proof}
	
\begin{note}
	Observe that for $m=2$ only the two following situations are possible:
	\begin{center}
		$
		\begin{array}{ccccccccc}
		P:&&&&&P':&&&\\
		&\mathbf{1} \quad &a&b&  \qquad &&\mathbf{1} \quad &a&b\\
		&\mathbf{n-1} \quad &b&a& \qquad &&\mathbf{n-1} \quad &a&b\\
		\end{array}
		$
	\end{center}
	In the first case there are no Pareto dominated alternatives, so the set of Pareto optimal alternatives $\paretopt(P)$ is equivalent to $A$ and, whatever $\musigma(P)$ is, their intersection is non-empty. In the second case, the alternative $b$ is Pareto dominated, thus $\paretopt(P')=\{a\}$. Moreover, both the alternatives $a$ and $b$ are ranked at the same position by every voter, so, $\forall \sigma \in \Sigma$, the spread of the loss vectors associated to both of those alternatives is $0$. The set of \oquot most equal\cquot \ alternatives is then $\musigma(P')=\{a,b\}$ and its intersection with $\paretopt(P')$ is, again, non-empty.
\end{note}

\subsection{Paretian Compromise}
We define the set $\mustar(P)$ as the set of the Pareto optimal alternatives whose loss vectors are the most equally distributed according to the spread measure $\sigma$.
\[	\mustar(P)  = \argmin_{x \in \paretopt(P)} \sigma(\lambda^P(x)) = \{ x \in \paretopt(P) \ | \ \sigma (\lambda^P(x))\leq \sigma (\lambda^P(y)), \forall y \in \paretopt(P) \} \]

As in the Egalitarian case, considering $\mustar$, we define some classes of social choice rules.

\begin{definition} A SCR $f$ is a \textit{Paretian Compromise} PC iff \[\exists \sigma \in \Sigma \suchthat \forall P \in \linors^N \text{ we have } f(P) \subseteq \mustar(P).\]
\end{definition}


\begin{definition} A SCR $f$ is \textit{Paretian Compromise Compatible} PCC iff \[\exists \sigma \in \Sigma \suchthat \forall P \in \linors^N \text{ we have } f(P) \cap \mustar(P) \neq \emptyset.\]
\end{definition}

In what follows, we analyze some relationships between the classes described so far. 

It follows from the definitions that $\forall n, m ≥ 1, \quad \text{EC} \implies \text{ECC} \text{ and } \text{PC} \implies \text{PCC} $. 

\begin{remark}
	\label{rem:deductions}
	By the proof of Proposition \ref{prop:nonParetian}, we can deduce that, for $n\geq 2, \ m\geq3$, $\exists \bar{P} \in \linors^N$ s.t. 
	\begin{enumerate}[label=(\roman*)]
		\item \label{itm:ded1} $\musigma(\bar{P})=\mu_{\sigma'}(\bar{P})$, $\forall \sigma, \sigma' \in \Sigma$;
		\item \label{itm:ded2} $\musigma(\bar{P}) \cap \paretopt(\bar{P})= \emptyset$, $\forall \sigma \in \Sigma$;
		\item \label{itm:ded3} $\musigma(\bar{P}) \cap \mustar(\bar{P}) = \emptyset$, $\forall \sigma \in \Sigma$.
	\end{enumerate}
\end{remark}



\begin{proposition} \label{prop:incompatibility} For $n\geq 2, \ m\geq3$, $\text{EC} \implies \lnot \text{PCC}$ and $\text{PC} \implies \lnot \text{ECC}$ $\forall \sigma \in \Sigma$.
\end{proposition}
\begin{proof}
	$\text{EC} \implies \lnot \text{PCC}$.
	Let $f$ be $EC$, then $\exists \bar{\sigma}\in \Sigma$ s.t. $f(P) \subseteq \mu_{\bar{\sigma}}(P)$ $\forall P \in \linors^N$. By Remark \ref{rem:deductions} \ref{itm:ded1}, $\exists \bar{P}\in \linors^N$ such that $\musigma(\bar{P})=\mu_{\sigma'}(\bar{P})$ $\forall \sigma, \sigma' \in \Sigma$, hence, $f(\bar{P}) \subseteq \mu_{\sigma'}(\bar{P})$ $\forall \sigma' \in \Sigma$. Moreover, since $\mustar(P) \subseteq \paretopt(P)$ $\forall \sigma \in \Sigma$, $\forall P \in \linors^N$, by Remark \ref{rem:deductions} \ref{itm:ded3} $\musigma(\bar{P}) \cap \mustar(\bar{P}) = \emptyset$ $\forall \sigma \in \Sigma$, we have that ${f(\bar{P})\cap \mustar(\bar{P})=\emptyset}$ $\forall \sigma \in \Sigma$.
	
	$\text{PC} \implies \lnot \text{ECC}$. Let $f$ be $PC$, then $\exists \bar{\sigma}\in \Sigma$ s.t. $f(P) \subseteq \mu^*_{\bar{\sigma}}(P)$ $\forall P \in \linors^N$. \commentBN{We cannot use the same structure of the previous case because it's not true that $\mustar(\bar{P})=\mu^*_{\sigma'}(\bar{P})$, $\forall \sigma, \sigma' \in \Sigma$}
%	By Remark \ref{rem:deductions} \ref{itm:ded3}, $\exists \bar{P}\in \linors^N$ such that
%	$\musigma(\bar{P}) \cap \mustar(\bar{P}) = \emptyset$ $\forall \sigma \in \Sigma$, so $f(\bar{P})$
\end{proof}

\begin{remark}
	There exists a SCR $f$ which is ECC and PCC.
\end{remark}
\begin{proof}
	Consider the SCR which always selects the whole set of alternatives, $f(P)=A, \forall P \in \linors^N$. We can see that $\forall P \in \linors^N$ and $\forall \sigma \in \Sigma$, $\emptyset \neq \musigma(P) \subseteq A$ and $\emptyset \neq \mustar(P) \subseteq A$. Therefore, $f(P) \cap \musigma(P) \neq \emptyset$ so $f$ is Egalitarian Compromise Compatible, and $f(P) \cap \mustar(P) \neq \emptyset$ thus $f$ is Paretian Compromise Compatible.
\end{proof}


\section{Known SCRs and Compromise (?)}
\commentBN{Rules definitions}
\begin{proposition}
	\commentBN{m,n}All Condorcet consistent rules, all BK compromises, all point runoff rules and all scoring rules fail ECC.
\end{proposition}
\begin{proof}
	For proving this proposition is enough to consider Corollary \ref{cor:optECC}, and to observe that all these rules, except Anti-plurality, are Pareto optimal.
	
	In order to prove it for Anti-plurality, consider the profile described in the proof of Proposition \ref{prop:nonParetian}, where the most equal alternative $z$ is ranked last by all voters. This alternative is the only element of the set $\musigma$ but it is not selected by anti-plurality. \commentBN{Change according to the new profile.}%profile st z is the last and the other are shifted by 1}
\end{proof}

\begin{proposition} For $n\geq3$, $m\geq3$ \commentBN{Generalize for n=2 (classical bargaining setting)} \label{prop:rulesnotPCC}
	\begin{item}
		\item[1)] Condorcet consistent rules are not $PCC$
		\item[2)] BK compromise for $q \in \{1, \dots ,n-1\}$ are not $PCC$
		\item[3)] Point runoff rules (like STV) are not $PCC$
%		\item[4)] Scoring rules (except Antiplurality) are not $PCC$
	\end{item}
\end{proposition}
\begin{proof}
	Consider the following profile $P$
	\begin{center}
		$
		\begin{array}{ccccc}
		\mathbf{1} \quad &c&b&\dots &a\\
		\mathbf{n-1} \quad &a&b&\dots &c\\		
		\end{array}
		$
	\end{center}
	where we have $m$ alternatives disposed such that only one alternative $b$ is ranked at the same position by every voter, and it is ranked second.
	We can see that, $\forall \sigma \in \Sigma$, $\musigma(P)=\{b\}$, but all Condorcet consistent rules, BK compromise for $q \in \{1, \dots n-1\}$ and ranked runoff rules would select $a$ as the winner. Thus the propositions $1), 2) \text{ and } 3)$ are proved. 
\end{proof}

\noindent Note that these impossibility results prevail for any restrictions $D \subseteq \Sigma$. \commentBN{first comment Remzi}

\begin{proposition}
	For $n>2$, $m\geq3$ some scoring rules are  $PCC$ \commentBN{Generalize for n=2}
\end{proposition}
\begin{proof}
	\commentBN{proof olivier}
	Let $(w_1, \dots, w_m)$ be a scoring vector such that $w_i$ represents the score given to an alternative ranked $i$-th in some preference order. Consider $1 = w_1 \geq w_2 \geq \dots \geq w_{m} = 0$. Let $s:\{1,\dots,m\}\rightarrow [0,1]$ be a scoring function that assigns to each alternative $x \in A$ a value depending on the rank obtained in each of the preference orders: 
	\[ s(x) = \sum_{i=1}^{m} \alpha^{x}_i w_i \ ,\]
	where $\alpha^{x}_i$ is the number of times that alternative $x$ was ranked in the $i$-th position. Let $f$ be the SCR that selects the alternatives with the highest score $f(P)=\{x \in A | s(x)\geq s(y), \ \forall y \in A\}$.
	Consider again the profile $P$ defined in Proposition \ref{prop:rulesnotPCC}.
	\begin{center}
		$
		\begin{array}{ccccc}
		\mathbf{1} \quad &c&b&\dots &a\\
		\mathbf{n-1} \quad &a&b&\dots &c\\		
		\end{array}
		$
	\end{center}
	We have that $s(a)=n-1$, $s(b)=n\cdot \lambda$, $s(c)=1$. We can observe that $s(a)$ is always greater than $s(c)$ since $n>2$, and that $s(b)\geq s(x)$ for any other alternative $x\in A \setminus \{a,c\}$. Recall that $b$ is the only alternative equally ranked by everyone, so $\sigma(\lambda^P(b))=0$ and $\sigma(\lambda^P(x))>0$, $\forall x \in A \ \{b\}$; thus, $\mustar(P)=\{b\}$. In order for $f$ to be $PCC$, $f(P)$ must contain $b$. This happens if $s(b)\geq s(a)$, therefore if 
	\begin{align*}
	n\cdot\lambda &\geq n-1 \\
	\lambda &\geq \frac{n-1}{n} 
	\end{align*}
	\commentBN{Can we generalize it for each possible profile P?}
\end{proof}
	
\begin{proposition}
	\commentBN{for m n check} Anti-plurality is not $PC$ but it is $PCC$.
\end{proposition}
\begin{proof} 
	In order to prove the first statement, consider the following profile $P$
	\begin{center}
		$
		\begin{array}{cccc}
		\mathbf{1} \quad &a&b&c\\
		\mathbf{n-1} \quad &a&b&c\\
		\end{array}
		$
	\end{center}
	The only element of the set $\musigma(P)$ is $a$, but anti-plurality selects $a$ and $b$. So it is not PC.
	
	For proving the second statement, take any profile $P$. Either
	\begin{itemize}
		\item[case 1.] there exists an alternative $x$ ranked at the same position by every voter and it is Pareto Optimal,
		\item[case 2.] or not.
	\end{itemize}
	In the first case $x$ is never last, thus $x\in \mustar(P) $ and $ x \in AP(P)$, where $AP(P)$ is the set of alternatives selected by anti-plurality.
	
	In the second case, consider a spread measure $\bar{\sigma} \in \Sigma$ such that \[
	\bar{\sigma}(l_1, \dots,l_n)= \begin{cases}
	0 \text{ if } l_i=l_j \ \forall i,j \\ 1 \text{ otherwise} \\
	\end{cases}. \]
	Then, $\exists \ y \in AP(P)$ and also $ y \in \mu_{\bar{\sigma}}^*(P)$.
\end{proof}

\commentRS{ It is worth noting that the negative results are quite robust because they establish the non-existence of a spread measure within the very large class capital sigma. On the other hand, the positive result that anti plurality is PCC may not be very robust and could turn to be negative when capital sigma is restricted by some further conditions over spread measures. This is an issue to be explored. \\ Another issue to be explored is whether FB satisfies PC or PCC. In an earlier version, we had a nice 2-person example about FB, which seems to be lost in this version. Can we find it? Yes:	\bigskip \\ {\color{black}$x$ $a_{1}...a_{k}$ $y$ $b_{1}....b_{k}$ \\	$b_{1}....b_{k-1}$ $y$ $x$ $b_{k}$ $a_{1}...a_{k}$} \bigskip \\
A further question to explore is whether we can suggest interesting SCRs that satisfy PCC. The particular “bargaining” case of n=2 many deserve specific consideration. \bigskip \\
If our results don't hold for n=2 we can say that }
\newpage

\bibliography{biblio}
\bibliographystyle{ACM-Reference-Format}

\newpage
\appendix
\section{Removed Materials}
\begin{corollary}
	For $n\geq 2, \ m\geq3,$ $\exists P$ such that $\musigma(P)$ and $\mustar(P)$ are disjoint  $\forall \sigma \in \Sigma$.
\end{corollary}

\begin{definition} A SCR $f$ is an EC$^*$ iff \[f(P) \subseteq \musigma(P), \ \forall P \in \linors^N, \forall \ \sigma \in \Sigma.\]
\end{definition}

\begin{definition} A SCR $f$ is an PC$^*$ iff \[f(P) \subseteq \mustar(P), \ \forall P \in \linors^N, \forall \ \sigma \in \Sigma.\]
\end{definition}

\begin{definition} A SCR $f$ is ECC$^*$ iff \[f(P) \cap \musigma(P) \neq 0, \ \forall P \in \linors^N, \forall \ \sigma \in \Sigma.\]
\end{definition}

\begin{definition} A SCR $f$ is PCC$^*$ iff \[ f(P) \cap \mustar(P) \neq 0, \ \forall P \in \linors^N, \forall \ \sigma \in \Sigma.\]
\end{definition}

\begin{proposition}
	For $n=2, m=2$, no SCR is EC*, and no SCR is PC*.
\end{proposition}
\begin{proof}
	Consider the profile such that voter $1$ prefers $a$ to $b$ and voter $2$ prefers $b$ to $a$. Observe that $\lambda(a) = (0, 1)$ and $\lambda(b) = (1, 0)$. Define $\sigma_1$ and $\sigma_2$ as ordering differently $\lambda(a)$ and $\lambda(b)$. To be EC*, $f$ must satisfy $f(P) \subseteq \set{a}$ and $f(P) \subseteq \set{b}$, which is impossible. The same constraints apply to be PC*.
\end{proof}

\begin{note}
	Observe that $\text{ECC} \centernot \implies \text{PCC}$ and $\text{PCC} \centernot \implies \text{ECC}$.
	In fact, considering Proposition \ref{prop:nonParetian}, the existence of a spread measure $\sigma$ such that our SCR $f$ picks some alternatives which belong to the set $\musigma$ is not a guarantee that they are also Pareto optimal, thus belonging to the set $\mustar$ (and vice-versa).
\end{note}

\section{Spread Measures}
In our idea of compromise, we aim to determine the “most equally distributed” vector within $\left\{ \lambda^P(x)\right\} _{x\in A}$. We thus need to adopt a spread measure which is a mapping $\sigma \in \SAll: \R_{+}^{N}\longrightarrow \R_{+}$ which satisfies $\sigma(r_i, \dots, r_n)=0 \iff r_i=r_j \forall i,j$. In what follows, we will consider various classes of possible spread measures.

\begin{definition}[Pairwise Pareto dominance]
	\label{def:PPD}
	For all $r$, $s\in \R_{+}^{N}$: 
	\[\left[\left\vert r_{i}-r_{j}\right\vert \leq \left\vert s_{i}-s_{j}\right\vert \forall i, j\in N\right] ⇒ \sigma (r)\leq \sigma (s).\] 
\end{definition}
We write $\SPPd \subseteq \SAll$ for the class of spread measures that satisfy also PPd.
Given a vector $r \in \R^N$ of $n$ elements, some examples of spread measures are the following.

\subsection{Mean Absolute Difference}
\[\sigma_{mad}(r)= \frac{1}{n^2} \sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j| \]
The mean absolute difference is a measure of dispersion calculated as the arithmetic mean of the absolute value of all possible differences. 
\begin{proposition}
	$\sigma_{mad}$ is a spread measure and it satisfies PPd.
\end{proposition}
\begin{proof} 
	In order to be a spread measure as we defined $\sigma_{mad}$ should be zero when all the elements of $r$ are equals, $r_i-r_j = 0 \ \forall i,j\in {1, \dots, n}$. In this case the sum term $\sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j|$ will always be zero, and thus $\sigma_{mad}(r)=0$ for such $r$. Hence $\sigma_{mad}$ is a spread measure.
	In order to prove the satisfaction of PPd we can observe that, given two vectors $r,s \in \R^N$, if \mbox{$|r_{i}-r_{j}| \leq |s_{i}-s_{j}| \ \forall i,j \in N$} then also \[\sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j| \leq \sum_{i=1}^{n}\sum_{j=1}^{n}|s_i-s_j| \]
	The remaining term $\frac{1}{n^2}$ is constant and it is equal for both sides, so $\sigma_{mad}(r) \leq \sigma_{mad}(s)$ and PPd is satisfied.
\end{proof}
\begin{example}
	\label{ex:spreadVectors}
	\begin{align}
	s=(3,3,3,3) \\
	t=(1,2,3,4) \\
	w=(1,3,5,7) \\
	\end{align}
	In order for a function $\sigma$ to be a spread measure it must be that $\sigma(s)=0$, and to satisfy PPd it must be $\sigma(t)<\sigma(w)$.
	
	Compute now $\sigma_{mad}$ for these vectors, we have:
	\begin{align}
	\sigma_{mad}(s) &= \frac{1}{4^2} \cdot 0 =0 \\
	\sigma_{mad}(t) &= \frac{1+2+3+1+1+2+2+1+1+3+2+1}{4^2}=\frac{20}{16} \\
	\sigma_{mad}(w) &= \frac{2+4+6+2+2+4+4+2+2+6+4+2}{4^2}=\frac{40}{16} \\
	\end{align}
	\begin{align}
	\sigma_{mad}(s) = 0 \ \surd \\
	\sigma_{mad}(t) \leq \sigma_{mad}(w) \rightarrow PPd \ \surd \\
	\end{align}
\end{example}




\subsection{Average Absolute Deviation}
\[\sigma_{ad}(r)= \frac{\sum_{i=1}^{n}|r_i-\bar{r}|}{n}\]
The average absolute deviation considers the differences between the values of the vector and their arithmetic mean $\bar{r}$.

\begin{proposition}
	\label{prop:ad}
	$\sigma_{ad}$ is a spread measure and it satisfies PPd.
\end{proposition}
\begin{proof}
	When $r_i=r_j \ \forall i,j\in {1, \dots, n}$ then $\bar{r}=\frac{\sum_{i=1}^{n}r_i}{n}=r_i$ for any $i \in N$. It follows that $\sum_{i=1}^{n}|r_i-\bar{r}|=0$ and $\sigma_{ad}(r)=0$.
	
	In order to prove that $\sigma_{ad}$ satisfies PPd we have to show that:
	
	\begin{align}
	\sigma_{ad}(r) &\leq \sigma_{ad}(s) \\
	\frac{\sum_{i=1}^{n}|r_i-\bar{r}|}{n} &\leq \frac{\sum_{i=1}^{n}|s_i-\bar{s}|}{n} \\
	\sum_{i=1}^{n}|r_i-\bar{r}| &\leq \sum_{i=1}^{n}|s_i-\bar{s}| \\
	\sum_{i=1}^{n}|r_i-\frac{\sum_{j=1}^{n}r_{j}}{n}| &\leq \sum_{i=1}^{n}|s_i-\frac{\sum_{j=1}^{n}s_{j}}{n}| \\
	\sum_{i=1}^{n}|\frac{n \cdot r_i}{n}-\frac{\sum_{j=1}^{n}r_{j}}{n}| &\leq \sum_{i=1}^{n}|\frac{n \cdot s_i}{n}-\frac{\sum_{j=1}^{n}s_{j}}{n}| \\
	\sum_{i=1}^{n}|\frac{\sum_{j=1}^{n}r_i}{n}-\frac{\sum_{j=1}^{n}r_{j}}{n}| &\leq \sum_{i=1}^{n}|\frac{\sum_{j=1}^{n}s_i}{n}-\frac{\sum_{j=1}^{n}s_{j}}{n}| \\
	\sum_{i=1}^{n}|\frac{\sum_{j=1}^{n}r_i - r_j}{n}| &\leq \sum_{i=1}^{n}|\frac{\sum_{j=1}^{n}s_i - s_j}{n}| \\
	\sum_{i=1}^{n}|\sum_{j=1}^{n}r_i - r_j| &\leq \sum_{i=1}^{n}|\sum_{j=1}^{n}s_i - s_j| \\
	\end{align}
	But we can consider that 
	\begin{itemize}
		\item $\sum_{i=1}^{n}|\sum_{j=1}^{n}r_i - r_j| \geq |\sum_{i=1}^{n}\sum_{j=1}^{n}r_i - r_j|$
		\item $\sum_{i=1}^{n}|\sum_{j=1}^{n}s_i - s_j| \leq \sum_{i=1}^{n}\sum_{j=1}^{n}|s_i - s_j|$
	\end{itemize}
	and, therefore, go back to our proof showing that
	\begin{align}
	|\sum_{i=1}^{n}\sum_{j=1}^{n}r_i - r_j| \leq \sum_{i=1}^{n}|\sum_{j=1}^{n}r_i - r_j| &\leq \sum_{i=1}^{n}|\sum_{j=1}^{n}s_i - s_j| \leq \sum_{i=1}^{n}\sum_{j=1}^{n}|s_i - s_j| \\
	|\sum_{i=1}^{n}\sum_{j=1}^{n}r_i - r_j| &\leq \sum_{i=1}^{n}\sum_{j=1}^{n}|s_i - s_j|
	\end{align}
	By assumption	
	\begin{align}
	|r_{i}-r_{j}| &\leq |s_{i}-s_{j}| \ \forall i,j \in N \\ \sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j| &\leq \sum_{i=1}^{n}\sum_{j=1}^{n}|s_i-s_j| \\
	\end{align}
	and by triangle inequality
	\begin{align}
	|\sum_{i=1}^{n}\sum_{j=1}^{n}r_i-r_j| &\leq \sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j| \\
	\end{align}
	it follows that 
	\begin{align}
	|\sum_{i=1}^{n}\sum_{j=1}^{n}r_i-r_j| \leq \sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j| \leq \sum_{i=1}^{n}\sum_{j=1}^{n}|s_i-s_j| \\
	\end{align}
	This concludes the proof.
\end{proof}

Consider the vectors of the Example \ref{ex:spreadVectors}.
If we compute $\sigma_{ad}$ for those vectors we have:
\begin{align}
\sigma_{ad}(s) &= \frac{\sum_{i=1}^{4} |3-3|}{4} =0 \\
\sigma_{ad}(t) &= \frac{|1-2.5|+|2-2.5|+|3-2.5|+|4-2.5|}{4}=\frac{4}{4}=1 \\
\sigma_{ad}(w) &= \frac{|1-4|+|3-4|+|5-4|+|7-4|}{4}=\frac{8}{4}=2 \\
\end{align}
\begin{align}
\sigma_{ad}(s) = 0 \ \surd \\
\sigma_{ad}(t) \leq \sigma_{ad}(w) \rightarrow PPd \ \surd \\
\end{align}

\subsection{Standard Deviation}
\[\sigma_{sd}(r)= \sqrt{\frac{\sum_{i=1}^{n}(r_i-\bar{r})^2}{n}}\]
\begin{proposition}
	$\sigma_{sd}$ is a spread measure and it satisfies PPd.
\end{proposition}
\begin{proof}
	If $r_i=r_j \ \forall i,j\in {1, \dots, n}$ then $\bar{r}=\frac{\sum_{i=1}^{n}r_i}{n}=r_i$ for any $i \in N$, thus the sum will be zero and $\sigma_{sd}(r)=0$.
	\\ To prove that $\sigma_{sd}$ satisfies PPd we need to show that
	\[\sum_{i=1}^{n}(r_i-\bar{r})^2 \leq \sum_{i=1}^{n}(s_i-\bar{s})^2\]
	Since 
	\[(r_i-\bar{r})^2 = |r_i-\bar{r}|^2 \text{ and } (s_i-\bar{s})^2 = |s_i-\bar{s}|^2 \] 
	we can rewrite it as
	\[\sum_{i=1}^{n}|r_i-\bar{r}|^2 \leq \sum_{i=1}^{n}|s_i-\bar{s}|^2\]
	We know that 
	\[ \sum_{i=1}^{n}|r_i-\bar{r}|^2 \leq (\sum_{i=1}^{n}|r_i-\bar{r}|)^2 \text{ and }
	\sum_{i=1}^{n}|s_i-\bar{s}|^2 \leq (\sum_{i=1}^{n}|s_i-\bar{s}|)^2 \]
	indeed, in case $n=2$, $(a-b)^2 = a^2+2ab+b^2$ so $(a-b)^2 \geq a^2+b^2$ only if $2ab > 0$; in our case $a$ and $b$ are the terms of the summation, respectively $|r_1-\bar{r}|$ and $|r_2-\bar{r}|$ (or $|s_1-\bar{s}|$ and $|s_2-\bar{s}|$) so they are always positive. So we can rewrite our expression as 
	\[\sum_{i=1}^{n}|r_i-\bar{r}|^2 \leq \sum_{i=1}^{n}|s_i-\bar{s}|^2  \leq (\sum_{i=1}^{n}|s_i-\bar{s}|)^2 \]
	and if we show that $\sum_{i=1}^{n}|r_i-\bar{r}|^2 \leq (\sum_{i=1}^{n}|s_i-\bar{s}|)^2 $ then the proof is concluded.
	From the proof of Proposition \ref{prop:ad}, we know that
	\begin{align}
	\sum_{i=1}^{n}|r_i-\bar{r}| &\leq \sum_{i=1}^{n}|s_i-\bar{s}| \\
	(\sum_{i=1}^{n}|r_i-\bar{r}|)^2 &\leq (\sum_{i=1}^{n}|s_i-\bar{s}|)^2
	\end{align}
	so we can affirm that 
	\[\sum_{i=1}^{n}|r_i-\bar{r}|^2 \leq (\sum_{i=1}^{n}|r_i-\bar{r}|)^2 \leq (\sum_{i=1}^{n}|s_i-\bar{s}|)^2 \]
	Therefore $\sum_{i=1}^{n}|r_i-\bar{r}|^2 \leq (\sum_{i=1}^{n}|s_i-\bar{s}|)^2 $ and this concludes the proof.
\end{proof}
Consider the vectors of Example \ref{ex:spreadVectors}.
If we compute $\sigma_{sd}$ for those vectors we have:
\begin{align}
\sigma_{sd}(s) &= \sqrt{\frac{\sum_{i=1}^{4} (3-3)^2}{4}}=0 \\
\sigma_{sd}(t) &= \sqrt{\frac{(1-2.5)^2+(2-2.5)^2+(3-2.5)^2+(4-2.5)^2}{4}}=\sqrt{\frac{5}{4}} \\
\sigma_{sd}(w) &= \sqrt{\frac{(1-4)^2+(3-4)^2+(5-4)^2+(7-4)^2}{4}}=\sqrt{\frac{20}{4}}=\sqrt{5} \\
\end{align}
\begin{align}
\sigma_{sd}(s) = 0 \ \surd \\
\sigma_{sd}(t) \leq \sigma_{sd}(w) \rightarrow PPd \ \surd \\
\end{align}

\subsection{Gini Coefficient}
\[\sigma_{G}(r)= \frac{\sum_{i=1}^{n}\sum_{j=1}^{n}|r_i-r_j|}{2 \cdot n \cdot \sum_{i=1}^{n} r_i}\]
\begin{proposition}
	$\sigma_{G}$ is a spread measure but it does not satisfy PPd.
\end{proposition}
\begin{proof}
	When $r_i=r_j \ \forall i,j\in {1, \dots, n}$ then the numerator of $\sigma_{G}$ is $0$, thus $\sigma_{G}(r)=0$. When $|r_{i}-r_{j}| \leq |s_{i}-s_{j}| \ \forall i,j \in N $ then the numerator of $\sigma_{G}(r)$ is less than or equal to the numerator of $\sigma_{G}(s)$ but it could be that the sum of the elements of $s$ is bigger than the one of $r$, resulting into $\sigma_{G}(s)$ having a greater denominator than $\sigma_{G}(r)$ and therefore $\sigma_{G}(s) \leq \sigma_{G}(r)$. To see that consider the following vectors:
	\begin{align}
	t'=(1,1,2,2) \\
	w'=(2,2,3,3) \\
	\end{align}
	\begin{align}
	\sigma_{G}(t') &= \frac{(1+1)\cdot 4}{2 \cdot 4 \cdot 6}=\frac{1}{6} \\
	\sigma_{G}(w') &= \frac{(1+1)\cdot 4}{2 \cdot 4 \cdot 10}=\frac{1}{10} \\
	\end{align}
	$|t'_{i}-t'_{j}| \leq |w'_{i}-w'_{j}| \forall i, j$ but $\sigma_{G}(t') \nleq \sigma_{G}(w')$
\end{proof}

TODO: Give reference to the relevant literature, also to the Pareto dominance condition.

\end{document}
